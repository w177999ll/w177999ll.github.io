import a from"./BANbGyBU.js";import{a as s,u as r,b as e}from"./CTx_gHj7.js";import{A as i}from"./Bn1g-ruw.js";import{T as l,u as n}from"./DaubXNes.js";import{u as t}from"./DnjT7zNg.js";import{u as o}from"./CE2y24bF.js";import{d as m,j as d,o as c,r as u,t as v,J as p,x as k,z as f,F as y,y as j,K as h,N as g,A as b,_ as I,v as w,E as _,I as R}from"./DpD38Hq9.js";import{u as x}from"./AE7psNvX.js";import{_ as A}from"./BCo6x5W8.js";import"./BUzHT0Ek.js";import"./C8hpIBoG.js";import"./BLxG2RsL.js";import"./B4ZxnYc8.js";import"./BpvzvWyB.js";import"./DeVOemtc.js";import"./MJhzGfyV.js";import"./C0XUvHtU.js";import"./l2rsThpR.js";import"./gSuRa5u_.js";import"./BOzaSZwJ.js";const C={class:"ranking-page"},N={key:0,class:"my-rank"},S={class:"ranking-item"},W={class:"ranking-content"},D={class:"rank-number"},K={class:"user-avatar"},z=["src"],F={class:"user-info"},J={class:"user-name-row"},M={class:"user-name"},q={class:"server-id"},E={class:"user-details"},O={class:"detail-item"},T={class:"detail-item"},U={class:"ranking-list"},Z={class:"ranking-content"},$={class:"user-avatar"},B=["src"],G={class:"user-info"},H={class:"user-name-row"},L={class:"user-name"},P={class:"server-id"},Q={class:"user-details"},V={class:"detail-item"},X={key:0,class:"detail-item"},Y=["onClick"],aa=A(m({__name:"rank",setup(m){t({title:"竞技场排行"});const A=s(),aa=r(),sa=d((()=>aa.getArenaServerRank));c((()=>{A.send({cmd:"arena_getarearank",respKey:"arena_getarearankresp"})}));const ra=u(!1),ea=u(),ia=u(0),{toClipboard:la}=n(),na=x(),ta=o();return(s,r)=>{var n,t,o,m,d,c,u,x;const A=a,aa=R,oa=I;return w(),v("div",C,[(null==(n=y(sa))?void 0:n.myRank)?(w(),v("div",N,[r[1]||(r[1]=k("div",{class:"rank-label"},"我的排名",-1)),k("div",S,[k("div",W,[k("div",D,j(null==(t=y(sa))?void 0:t.myRank.rank),1),k("div",K,[k("img",{src:(null==(o=y(sa))?void 0:o.myRank.headImg)||y(i).defaultAvatar,alt:"头像"},null,8,z)]),k("div",F,[k("div",J,[k("span",M,j(null==(m=y(sa))?void 0:m.myRank.name),1),k("span",q,j(null==(d=y(sa))?void 0:d.myRank.serverId),1)]),k("div",E,[k("div",O,[f(A,{name:"ion:flash",style:{color:"orange"}}),k("span",null,j(("formatNumberWithSuffix"in s?s.formatNumberWithSuffix:y(e))(null==(c=y(sa))?void 0:c.myRank.power)),1)]),k("div",T,[f(A,{name:"ion:trophy",style:{color:"#67c23a"}}),k("span",null,j(Math.ceil(null==(u=y(sa))?void 0:u.myRank.score)),1)])])])])])])):p("",!0),k("div",U,[r[2]||(r[2]=k("div",{class:"rank-label"},"竞技场排名",-1)),(w(!0),v(h,null,g(null==(x=y(sa))?void 0:x.list,((a,r)=>{return w(),v("div",{key:a.roleId,class:"ranking-item"},[k("div",Z,[k("div",{class:_(["rank-number",(l=r+1,1===l?"rank-first":2===l?"rank-second":3===l?"rank-third":"")])},j(r+1),3),k("div",$,[k("img",{src:a.headImg||y(i).defaultAvatar,alt:"头像"},null,8,B)]),k("div",G,[k("div",H,[k("span",L,j(a.name),1),k("span",P,j(a.serverId),1)]),k("div",Q,[k("div",V,[f(A,{name:"ion:flash",style:{color:"orange"}}),k("span",null,j(("formatNumberWithSuffix"in s?s.formatNumberWithSuffix:y(e))(a.power)),1)]),y(ta)?p("",!0):(w(),v("div",X,[f(A,{name:"ion:trophy",style:{color:"#67c23a"}}),k("span",null,j(Math.ceil(a.score)),1)])),k("div",{class:"detail-item user-id",onClick:()=>async function(a){await la(`${a}`),na.success("ID复制成功")}(a.roleId)}," ID: "+j(a.roleId),9,Y)])]),f(aa,{quaternary:"",size:"small",class:"detail-btn",onClick:s=>{return r=a,ea.value=r.roleId,ia.value=Date.now(),void(ra.value=!0);var r}},{icon:b((()=>[f(A,{name:"ion:information-circle"})])),_:2},1032,["onClick"])])]);var l})),128))]),f(oa,{show:ra.value,"onUpdate:show":r[0]||(r[0]=a=>ra.value=a),preset:"card",title:"用户信息",style:{width:"90%"}},{default:b((()=>[f(l,{"user-id":ea.value,timestamp:ia.value},null,8,["user-id","timestamp"])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-b3600ed8"]]);export{aa as default};
