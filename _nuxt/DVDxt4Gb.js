import{d as n,r as e,j as a,H as t,ao as o,h as r,P as i,a6 as s,cu as l,a4 as u,cF as m,a5 as c,a7 as d,cp as p,cy as f,aC as b,a3 as v,ak as h,am as g,ad as y,cG as x,a8 as w,a9 as $,o as z,aP as C,ah as N,bK as P,ag as S,b6 as k}from"./DpD38Hq9.js";import{g as Y}from"./Cap6sGiE.js";const B=n({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(n){const s=e(null),l=e(n.value),u=e(n.value),m=e("up"),c=e(!1),d=a((()=>c.value?`${n.clsPrefix}-base-slot-machine-current-number--${m.value}-scroll`:null)),p=a((()=>c.value?`${n.clsPrefix}-base-slot-machine-old-number--${m.value}-scroll`:null));function f(){const e=n.newOriginalNumber,a=n.oldOriginalNumber;void 0!==a&&void 0!==e&&(e>a?b("up"):a>e&&b("down"))}function b(n){m.value=n,c.value=!1,i((()=>{var n;null===(n=s.value)||void 0===n||n.offsetWidth,c.value=!0}))}return t(o(n,"value"),((n,e)=>{l.value=e,u.value=n,i(f)})),()=>{const{clsPrefix:e}=n;return r("span",{ref:s,class:`${e}-base-slot-machine-number`},null!==l.value?r("span",{class:[`${e}-base-slot-machine-old-number ${e}-base-slot-machine-old-number--top`,p.value]},l.value):null,r("span",{class:[`${e}-base-slot-machine-current-number`,d.value]},r("span",{ref:"numberWrapper",class:[`${e}-base-slot-machine-current-number__inner`,"number"!=typeof n.value&&`${e}-base-slot-machine-current-number__inner--not-number`]},u.value)),null!==l.value?r("span",{class:[`${e}-base-slot-machine-old-number ${e}-base-slot-machine-old-number--bottom`,p.value]},l.value):null)}}}),{cubicBezierEaseOut:O}=l;const E=s([s("@keyframes n-base-slot-machine-fade-up-in","\n from {\n transform: translateY(60%);\n opacity: 0;\n }\n to {\n transform: translateY(0);\n opacity: 1;\n }\n "),s("@keyframes n-base-slot-machine-fade-down-in","\n from {\n transform: translateY(-60%);\n opacity: 0;\n }\n to {\n transform: translateY(0);\n opacity: 1;\n }\n "),s("@keyframes n-base-slot-machine-fade-up-out","\n from {\n transform: translateY(0%);\n opacity: 1;\n }\n to {\n transform: translateY(-60%);\n opacity: 0;\n }\n "),s("@keyframes n-base-slot-machine-fade-down-out","\n from {\n transform: translateY(0%);\n opacity: 1;\n }\n to {\n transform: translateY(60%);\n opacity: 0;\n }\n "),u("base-slot-machine","\n overflow: hidden;\n white-space: nowrap;\n display: inline-block;\n height: 18px;\n line-height: 18px;\n ",[u("base-slot-machine-number","\n display: inline-block;\n position: relative;\n height: 18px;\n width: .6em;\n max-width: .6em;\n ",[function({duration:n=".2s"}={}){return[s("&.fade-up-width-expand-transition-leave-active",{transition:`\n opacity ${n} ${O},\n max-width ${n} ${O},\n transform ${n} ${O}\n `}),s("&.fade-up-width-expand-transition-enter-active",{transition:`\n opacity ${n} ${O},\n max-width ${n} ${O},\n transform ${n} ${O}\n `}),s("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),s("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),s("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),s("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}({duration:".2s"}),m({duration:".2s",delay:"0s"}),u("base-slot-machine-old-number","\n display: inline-block;\n opacity: 0;\n position: absolute;\n left: 0;\n right: 0;\n ",[c("top",{transform:"translateY(-100%)"}),c("bottom",{transform:"translateY(100%)"}),c("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),c("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),u("base-slot-machine-current-number","\n display: inline-block;\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 1;\n transform: translateY(0);\n width: .6em;\n ",[c("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),c("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),d("inner","\n display: inline-block;\n position: absolute;\n right: 0;\n top: 0;\n width: .6em;\n ",[c("not-number","\n right: unset;\n left: 0;\n ")])])])])]),F=n({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(n){p("-base-slot-machine",E,o(n,"clsPrefix"));const i=e(),s=e(),l=a((()=>{if("string"==typeof n.value)return[];if(n.value<1)return[0];const e=[];let a=n.value;for(void 0!==n.max&&(a=Math.min(n.max,a));a>=1;)e.push(a%10),a/=10,a=Math.floor(a);return e.reverse(),e}));return t(o(n,"value"),((n,e)=>{"string"==typeof n?(s.value=void 0,i.value=void 0):"string"==typeof e?(s.value=n,i.value=void 0):(s.value=n,i.value=e)})),()=>{const{value:e,clsPrefix:a}=n;return"number"==typeof e?r("span",{class:`${a}-base-slot-machine`},r(f,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>l.value.map(((n,e)=>r(B,{clsPrefix:a,key:l.value.length-e-1,oldOriginalNumber:i.value,newOriginalNumber:s.value,value:n})))}),r(b,{key:"+",width:!0},{default:()=>void 0!==n.max&&n.max<e?r(B,{clsPrefix:a,value:"+"}):null})):r("span",{class:`${a}-base-slot-machine`},e)}}});const I={common:v,self:function(n){const{errorColor:e,infoColor:a,successColor:t,warningColor:o,fontFamily:r}=n;return{color:e,colorInfo:a,colorSuccess:t,colorError:e,colorWarning:o,fontSize:"12px",fontFamily:r}}},A=s([s("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),u("badge","\n display: inline-flex;\n position: relative;\n vertical-align: middle;\n font-family: var(--n-font-family);\n ",[c("as-is",[u("badge-sup",{position:"static",transform:"translateX(0)"},[h({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),c("dot",[u("badge-sup","\n height: 8px;\n width: 8px;\n padding: 0;\n min-width: 8px;\n left: 100%;\n bottom: calc(100% - 4px);\n ",[s("::before","border-radius: 4px;")])]),u("badge-sup","\n background: var(--n-color);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n color: #FFF;\n position: absolute;\n height: 18px;\n line-height: 18px;\n border-radius: 9px;\n padding: 0 6px;\n text-align: center;\n font-size: var(--n-font-size);\n transform: translateX(-50%);\n left: 100%;\n bottom: calc(100% - 9px);\n font-variant-numeric: tabular-nums;\n z-index: 2;\n display: flex;\n align-items: center;\n ",[h({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),u("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),s("&::before",'\n opacity: 0;\n transform: scale(1);\n border-radius: 9px;\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')])])]),R=n({name:"Badge",props:Object.assign(Object.assign({},$.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),setup(n,{slots:t}){const{mergedClsPrefixRef:o,inlineThemeDisabled:r,mergedRtlRef:i}=w(n),s=$("Badge","-badge",A,I,n,o),l=e(!1),u=a((()=>n.show&&(n.dot||void 0!==n.value&&!(!n.showZero&&Number(n.value)<=0)||!P(t.value))));z((()=>{u.value&&(l.value=!0)}));const m=C("Badge",i,o),c=a((()=>{const{type:e,color:a}=n,{common:{cubicBezierEaseInOut:t,cubicBezierEaseOut:o},self:{[S("color",e)]:r,fontFamily:i,fontSize:l}}=s.value;return{"--n-font-size":l,"--n-font-family":i,"--n-color":a||r,"--n-ripple-color":a||r,"--n-bezier":t,"--n-ripple-bezier":o}})),d=r?N("badge",a((()=>{let e="";const{type:a,color:t}=n;return a&&(e+=a[0]),t&&(e+=k(t)),e})),c,n):void 0,p=a((()=>{const{offset:e}=n;if(!e)return;const[a,t]=e,o="number"==typeof a?`${a}px`:a,r="number"==typeof t?`${t}px`:t;return{transform:`translate(calc(${(null==m?void 0:m.value)?"50%":"-50%"} + ${o}), ${r})`}}));return{rtlEnabled:m,mergedClsPrefix:o,appeared:l,showBadge:u,handleAfterEnter:()=>{l.value=!0},handleAfterLeave:()=>{l.value=!1},cssVars:r?void 0:c,themeClass:null==d?void 0:d.themeClass,onRender:null==d?void 0:d.onRender,offsetStyle:p}},render(){var n;const{mergedClsPrefix:e,onRender:a,themeClass:t,$slots:o}=this;null==a||a();const i=null===(n=o.default)||void 0===n?void 0:n.call(o);return r("div",{class:[`${e}-badge`,this.rtlEnabled&&`${e}-badge--rtl`,t,{[`${e}-badge--dot`]:this.dot,[`${e}-badge--as-is`]:!i}],style:this.cssVars},i,r(g,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?r("sup",{class:`${e}-badge-sup`,title:Y(this.value),style:this.offsetStyle},y(o.value,(()=>[this.dot?null:r(F,{clsPrefix:e,appeared:this.appeared,max:this.max,value:this.value})])),this.processing?r(x,{clsPrefix:e}):null):null}))}});export{R as _};
