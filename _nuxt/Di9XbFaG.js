import e from "./BANbGyBU.js";
import {
	u as n
} from "./DnjT7zNg.js";
import {
	b as t,
	u as r
} from "./BUzHT0Ek.js";
import {
	aw as o,
	h as i,
	ax as a,
	ay as l,
	a3 as s,
	az as d,
	ab as u,
	a6 as c,
	a4 as p,
	a5 as f,
	aA as h,
	a7 as g,
	aB as m,
	d as v,
	ae as b,
	af as y,
	aC as w,
	a2 as x,
	aD as R,
	aE as C,
	I as k,
	aF as B,
	r as T,
	j as P,
	aG as j,
	D as O,
	aH as L,
	ad as D,
	aI as F,
	K as U,
	a8 as _,
	a9 as z,
	an as S,
	ao as E,
	ah as $,
	aa as I,
	aJ as A,
	P as H,
	aq as q,
	a0 as M,
	t as V,
	x as G,
	z as X,
	A as N,
	F as Q,
	Z,
	v as K,
	B as J,
	y as W,
	_ as Y,
	n as ee,
	G as ne
} from "./DpD38Hq9.js";
import {
	_ as te
} from "./BeNDyQhw.js";
import {
	p as re,
	_ as oe
} from "./C0XUvHtU.js";
import {
	_ as ie,
	D as ae,
	N as le
} from "./CwfcNWO8.js";
import {
	E as se,
	_ as de
} from "./DrZaQ8bd.js";
import {
	d as ue
} from "./CfHz9NLm.js";
import {
	A as ce
} from "./DLyGchdh.js";
import {
	u as pe
} from "./B4ZxnYc8.js";
import {
	u as fe
} from "./AE7psNvX.js";
import {
	a as he,
	_ as ge
} from "./BK-7DiZd.js";
import {
	_ as me
} from "./DltK94za.js";
import {
	_ as ve
} from "./BCo6x5W8.js";
import "./l2rsThpR.js";
import "./Cwo8lmsB.js";
import "./-a6dyge6.js";
import "./DjN1tzHg.js";
import "./CYSlBwxp.js";
import "./CLmcmnGu.js";
import "./DiJwGkuW.js";
import "./BOzaSZwJ.js";
import "./Bz3-pLFH.js";
const be = o("attach", (() => i("svg", {
		viewBox: "0 0 16 16",
		version: "1.1",
		xmlns: "http://www.w3.org/2000/svg"
	}, i("g", {
		stroke: "none",
		"stroke-width": "1",
		fill: "none",
		"fill-rule": "evenodd"
	}, i("g", {
		fill: "currentColor",
		"fill-rule": "nonzero"
	}, i("path", {
		d: "M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"
	})))))),
	ye = o("cancel", (() => i("svg", {
		viewBox: "0 0 16 16",
		version: "1.1",
		xmlns: "http://www.w3.org/2000/svg"
	}, i("g", {
		stroke: "none",
		"stroke-width": "1",
		fill: "none",
		"fill-rule": "evenodd"
	}, i("g", {
		fill: "currentColor",
		"fill-rule": "nonzero"
	}, i("path", {
		d: "M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"
	})))))),
	we = o("retry", (() => i("svg", {
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "0 0 512 512"
	}, i("path", {
		d: "M320,146s24.36-12-64-12A160,160,0,1,0,416,294",
		style: "fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"
	}), i("polyline", {
		points: "256 58 336 138 256 218",
		style: "fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"
	})))),
	xe = o("trash", (() => i("svg", {
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "0 0 512 512"
	}, i("path", {
		d: "M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",
		style: "fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"
	}), i("rect", {
		x: "32",
		y: "64",
		width: "448",
		height: "80",
		rx: "16",
		ry: "16",
		style: "fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"
	}), i("line", {
		x1: "312",
		y1: "240",
		x2: "200",
		y2: "352",
		style: "fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"
	}), i("line", {
		x1: "312",
		y1: "352",
		x2: "200",
		y2: "240",
		style: "fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"
	}))));
const Re = a({
		name: "Upload",
		common: s,
		peers: {
			Button: l,
			Progress: re
		},
		self: function(e) {
			const {
				iconColor: n,
				primaryColor: t,
				errorColor: r,
				textColor2: o,
				successColor: i,
				opacityDisabled: a,
				actionColor: l,
				borderColor: s,
				hoverColor: u,
				lineHeight: c,
				borderRadius: p,
				fontSize: f
			} = e;
			return {
				fontSize: f,
				lineHeight: c,
				borderRadius: p,
				draggerColor: l,
				draggerBorder: `1px dashed ${s}`,
				draggerBorderHover: `1px dashed ${t}`,
				itemColorHover: u,
				itemColorHoverError: d(r, {
					alpha: .06
				}),
				itemTextColor: o,
				itemTextColorError: r,
				itemTextColorSuccess: i,
				itemIconColor: n,
				itemDisabledOpacity: a,
				itemBorderImageCardError: `1px solid ${r}`,
				itemBorderImageCard: `1px solid ${s}`
			}
		}
	}),
	Ce = u("n-upload"),
	ke = c([p("upload", "width: 100%;", [f("dragger-inside", [p("upload-trigger", "\n display: block;\n ")]), f("drag-over", [p("upload-dragger", "\n border: var(--n-dragger-border-hover);\n ")])]), p("upload-dragger", "\n cursor: pointer;\n box-sizing: border-box;\n width: 100%;\n text-align: center;\n border-radius: var(--n-border-radius);\n padding: 24px;\n opacity: 1;\n transition:\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n background-color: var(--n-dragger-color);\n border: var(--n-dragger-border);\n ", [c("&:hover", "\n border: var(--n-dragger-border-hover);\n "), f("disabled", "\n cursor: not-allowed;\n ")]), p("upload-trigger", "\n display: inline-block;\n box-sizing: border-box;\n opacity: 1;\n transition: opacity .3s var(--n-bezier);\n ", [c("+", [p("upload-file-list", "margin-top: 8px;")]), f("disabled", "\n opacity: var(--n-item-disabled-opacity);\n cursor: not-allowed;\n "), f("image-card", "\n width: 96px;\n height: 96px;\n ", [p("base-icon", "\n font-size: 24px;\n "), p("upload-dragger", "\n padding: 0;\n height: 100%;\n width: 100%;\n display: flex;\n align-items: center;\n justify-content: center;\n ")])]), p("upload-file-list", "\n line-height: var(--n-line-height);\n opacity: 1;\n transition: opacity .3s var(--n-bezier);\n ", [c("a, img", "outline: none;"), f("disabled", "\n opacity: var(--n-item-disabled-opacity);\n cursor: not-allowed;\n ", [p("upload-file", "cursor: not-allowed;")]), f("grid", "\n display: grid;\n grid-template-columns: repeat(auto-fill, 96px);\n grid-gap: 8px;\n margin-top: 0;\n "), p("upload-file", "\n display: block;\n box-sizing: border-box;\n cursor: default;\n padding: 0px 12px 0 6px;\n transition: background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n ", [h(), p("progress", [h({
		foldPadding: !0
	})]), c("&:hover", "\n background-color: var(--n-item-color-hover);\n ", [p("upload-file-info", [g("action", "\n opacity: 1;\n ")])]), f("image-type", "\n border-radius: var(--n-border-radius);\n text-decoration: underline;\n text-decoration-color: #0000;\n ", [p("upload-file-info", "\n padding-top: 0px;\n padding-bottom: 0px;\n width: 100%;\n height: 100%;\n display: flex;\n justify-content: space-between;\n align-items: center;\n padding: 6px 0;\n ", [p("progress", "\n padding: 2px 0;\n margin-bottom: 0;\n "), g("name", "\n padding: 0 8px;\n "), g("thumbnail", "\n width: 32px;\n height: 32px;\n font-size: 28px;\n display: flex;\n justify-content: center;\n align-items: center;\n ", [c("img", "\n width: 100%;\n ")])])]), f("text-type", [p("progress", "\n box-sizing: border-box;\n padding-bottom: 6px;\n margin-bottom: 6px;\n ")]), f("image-card-type", "\n position: relative;\n width: 96px;\n height: 96px;\n border: var(--n-item-border-image-card);\n border-radius: var(--n-border-radius);\n padding: 0;\n display: flex;\n align-items: center;\n justify-content: center;\n transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n overflow: hidden;\n ", [p("progress", "\n position: absolute;\n left: 8px;\n bottom: 8px;\n right: 8px;\n width: unset;\n "), p("upload-file-info", "\n padding: 0;\n width: 100%;\n height: 100%;\n ", [g("thumbnail", "\n width: 100%;\n height: 100%;\n display: flex;\n flex-direction: column;\n align-items: center;\n justify-content: center;\n font-size: 36px;\n ", [c("img", "\n width: 100%;\n ")])]), c("&::before", '\n position: absolute;\n z-index: 1;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n opacity: 0;\n transition: opacity .2s var(--n-bezier);\n content: "";\n '), c("&:hover", [c("&::before", "opacity: 1;"), p("upload-file-info", [g("thumbnail", "opacity: .12;")])])]), f("error-status", [c("&:hover", "\n background-color: var(--n-item-color-hover-error);\n "), p("upload-file-info", [g("name", "color: var(--n-item-text-color-error);"), g("thumbnail", "color: var(--n-item-text-color-error);")]), f("image-card-type", "\n border: var(--n-item-border-image-card-error);\n ")]), f("with-url", "\n cursor: pointer;\n ", [p("upload-file-info", [g("name", "\n color: var(--n-item-text-color-success);\n text-decoration-color: var(--n-item-text-color-success);\n ", [c("a", "\n text-decoration: underline;\n ")])])]), p("upload-file-info", "\n position: relative;\n padding-top: 6px;\n padding-bottom: 6px;\n display: flex;\n flex-wrap: nowrap;\n ", [g("thumbnail", "\n font-size: 18px;\n opacity: 1;\n transition: opacity .2s var(--n-bezier);\n color: var(--n-item-icon-color);\n ", [p("base-icon", "\n margin-right: 2px;\n vertical-align: middle;\n transition: color .3s var(--n-bezier);\n ")]), g("action", "\n padding-top: inherit;\n padding-bottom: inherit;\n position: absolute;\n right: 0;\n top: 0;\n bottom: 0;\n width: 80px;\n display: flex;\n align-items: center;\n transition: opacity .2s var(--n-bezier);\n justify-content: flex-end;\n opacity: 0;\n ", [p("button", [c("&:not(:last-child)", {
		marginRight: "4px"
	}), p("base-icon", [c("svg", [m()])])]), f("image-type", "\n position: relative;\n max-width: 80px;\n width: auto;\n "), f("image-card-type", "\n z-index: 2;\n position: absolute;\n width: 100%;\n height: 100%;\n left: 0;\n right: 0;\n bottom: 0;\n top: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n ")]), g("name", "\n color: var(--n-item-text-color);\n flex: 1;\n display: flex;\n justify-content: center;\n text-overflow: ellipsis;\n overflow: hidden;\n flex-direction: column;\n text-decoration-color: #0000;\n font-size: var(--n-font-size);\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier); \n ", [c("a", "\n color: inherit;\n text-decoration: underline;\n ")])])])]), p("upload-file-input", "\n display: none;\n width: 0;\n height: 0;\n opacity: 0;\n ")]),
	Be = "__UPLOAD_DRAGGER__",
	Te = v({
		name: "UploadDragger",
		[Be]: !0,
		setup(e, {
			slots: n
		}) {
			const t = b(Ce, null);
			return t || y("upload-dragger", "`n-upload-dragger` must be placed inside `n-upload`."), () => {
				const {
					mergedClsPrefixRef: {
						value: e
					},
					mergedDisabledRef: {
						value: r
					},
					maxReachedRef: {
						value: o
					}
				} = t;
				return i("div", {
					class: [`${e}-upload-dragger`, (r || o) && `${e}-upload-dragger--disabled`]
				}, n)
			}
		}
	}),
	Pe = i("svg", {
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "0 0 28 28"
	}, i("g", {
		fill: "none"
	}, i("path", {
		d: "M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",
		fill: "currentColor"
	}))),
	je = i("svg", {
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "0 0 28 28"
	}, i("g", {
		fill: "none"
	}, i("path", {
		d: "M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",
		fill: "currentColor"
	}))),
	Oe = v({
		name: "UploadProgress",
		props: {
			show: Boolean,
			percentage: {
				type: Number,
				required: !0
			},
			status: {
				type: String,
				required: !0
			}
		},
		setup: () => ({
			mergedTheme: b(Ce)
				.mergedThemeRef
		}),
		render() {
			return i(w, null, {
				default: () => this.show ? i(oe, {
					type: "line",
					showIndicator: !1,
					percentage: this.percentage,
					status: this.status,
					height: 2,
					theme: this.mergedTheme.peers.Progress,
					themeOverrides: this.mergedTheme.peerOverrides.Progress
				}) : null
			})
		}
	});
var Le = function(e, n, t, r) {
	return new(t || (t = Promise))((function(o, i) {
		function a(e) {
			try {
				s(r.next(e))
			} catch (n) {
				i(n)
			}
		}

		function l(e) {
			try {
				s(r.throw(e))
			} catch (n) {
				i(n)
			}
		}

		function s(e) {
			var n;
			e.done ? o(e.value) : (n = e.value, n instanceof t ? n : new t((function(e) {
					e(n)
				})))
				.then(a, l)
		}
		s((r = r.apply(e, n || []))
			.next())
	}))
};

function De(e) {
	return e.includes("image/")
}

function Fe(e = "") {
	const n = e.split("/"),
		t = n[n.length - 1].split(/#|\?/)[0];
	return (/\.[^./\\]*$/.exec(t) || [""])[0]
}
const Ue = /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,
	_e = e => {
		if (e.type) return De(e.type);
		const n = Fe(e.name || "");
		if (Ue.test(n)) return !0;
		const t = e.thumbnailUrl || e.url || "",
			r = Fe(t);
		return !(!/^data:image\//.test(t) && !Ue.test(r))
	};
const ze = x && window.FileReader && window.File;

function Se(e) {
	return e.isFile
}

function Ee(e) {
	const {
		id: n,
		name: t,
		percentage: r,
		status: o,
		url: i,
		file: a,
		thumbnailUrl: l,
		type: s,
		fullPath: d,
		batchId: u
	} = e;
	return {
		id: n,
		name: t,
		percentage: null != r ? r : null,
		status: o,
		url: null != i ? i : null,
		file: null != a ? a : null,
		thumbnailUrl: null != l ? l : null,
		type: null != s ? s : null,
		fullPath: null != d ? d : null,
		batchId: null != u ? u : null
	}
}
var $e = function(e, n, t, r) {
	return new(t || (t = Promise))((function(o, i) {
		function a(e) {
			try {
				s(r.next(e))
			} catch (n) {
				i(n)
			}
		}

		function l(e) {
			try {
				s(r.throw(e))
			} catch (n) {
				i(n)
			}
		}

		function s(e) {
			var n;
			e.done ? o(e.value) : (n = e.value, n instanceof t ? n : new t((function(e) {
					e(n)
				})))
				.then(a, l)
		}
		s((r = r.apply(e, n || []))
			.next())
	}))
};
const Ie = {
		paddingMedium: "0 3px",
		heightMedium: "24px",
		iconSizeMedium: "18px"
	},
	Ae = v({
		name: "UploadFile",
		props: {
			clsPrefix: {
				type: String,
				required: !0
			},
			file: {
				type: Object,
				required: !0
			},
			listType: {
				type: String,
				required: !0
			},
			index: {
				type: Number,
				required: !0
			}
		},
		setup(e) {
			const n = b(Ce),
				t = T(null),
				r = T(""),
				o = P((() => {
					const {
						file: n
					} = e;
					return "finished" === n.status ? "success" : "error" === n.status ? "error" : "info"
				})),
				i = P((() => {
					const {
						file: n
					} = e;
					if ("error" === n.status) return "error"
				})),
				a = P((() => {
					const {
						file: n
					} = e;
					return "uploading" === n.status
				})),
				l = P((() => {
					if (!n.showCancelButtonRef.value) return !1;
					const {
						file: t
					} = e;
					return ["uploading", "pending", "error"].includes(t.status)
				})),
				s = P((() => {
					if (!n.showRemoveButtonRef.value) return !1;
					const {
						file: t
					} = e;
					return ["finished"].includes(t.status)
				})),
				d = P((() => {
					if (!n.showDownloadButtonRef.value) return !1;
					const {
						file: t
					} = e;
					return ["finished"].includes(t.status)
				})),
				u = P((() => {
					if (!n.showRetryButtonRef.value) return !1;
					const {
						file: t
					} = e;
					return ["error"].includes(t.status)
				})),
				c = j((() => r.value || e.file.thumbnailUrl || e.file.url)),
				p = P((() => {
					if (!n.showPreviewButtonRef.value) return !1;
					const {
						file: {
							status: t
						},
						listType: r
					} = e;
					return ["finished"].includes(t) && c.value && "image-card" === r
				}));

			function f(t) {
				const {
					xhrMap: r,
					doChange: o,
					onRemoveRef: {
						value: i
					},
					mergedFileListRef: {
						value: a
					}
				} = n;
				Promise.resolve(!i || i({
						file: Object.assign({}, t),
						fileList: a,
						index: e.index
					}))
					.then((e => {
						if (!1 === e) return;
						const n = Object.assign({}, t, {
							status: "removed"
						});
						r.delete(t.id), o(n, void 0, {
							remove: !0
						})
					}))
			}
			const h = () => $e(this, void 0, void 0, (function*() {
				const {
					listType: t
				} = e;
				"image" !== t && "image-card" !== t || n.shouldUseThumbnailUrlRef.value(e.file) && (r.value = yield n.getFileThumbnailUrlResolver(e.file))
			}));
			return O((() => {
				h()
			})), {
				mergedTheme: n.mergedThemeRef,
				progressStatus: o,
				buttonType: i,
				showProgress: a,
				disabled: n.mergedDisabledRef,
				showCancelButton: l,
				showRemoveButton: s,
				showDownloadButton: d,
				showRetryButton: u,
				showPreviewButton: p,
				mergedThumbnailUrl: c,
				shouldUseThumbnailUrl: n.shouldUseThumbnailUrlRef,
				renderIcon: n.renderIconRef,
				imageRef: t,
				handleRemoveOrCancelClick: function(t) {
					t.preventDefault();
					const {
						file: r
					} = e;
					["finished", "pending", "error"].includes(r.status) ? f(r) : ["uploading"].includes(r.status) ? function(e) {
						const {
							xhrMap: t
						} = n, r = t.get(e.id);
						null == r || r.abort(), f(Object.assign({}, e))
					}(r) : L("upload", "The button clicked type is unknown.")
				},
				handleDownloadClick: function(t) {
					t.preventDefault(),
						function(e) {
							const {
								onDownloadRef: {
									value: t
								}
							} = n;
							Promise.resolve(!t || t(Object.assign({}, e)))
								.then((n => {
									!1 !== n && ue(e.url, e.name)
								}))
						}(e.file)
				},
				handleRetryClick: function() {
					return $e(this, void 0, void 0, (function*() {
						const t = n.onRetryRef.value;
						if (t) {
							if (!1 === (yield t({
								file: e.file
							}))) return
						}
						n.submit(e.file.id)
					}))
				},
				handlePreviewClick: function(r) {
					const {
						onPreviewRef: {
							value: o
						}
					} = n;
					if (o) o(e.file, {
						event: r
					});
					else if ("image-card" === e.listType) {
						const {
							value: e
						} = t;
						if (!e) return;
						e.click()
					}
				}
			}
		},
		render() {
			const {
				clsPrefix: e,
				mergedTheme: n,
				listType: t,
				file: r,
				renderIcon: o
			} = this;
			let a;
			const l = "image" === t;
			a = l || "image-card" === t ? this.shouldUseThumbnailUrl(r) && this.mergedThumbnailUrl ? i("a", {
				rel: "noopener noreferer",
				target: "_blank",
				href: r.url || void 0,
				class: `${e}-upload-file-info__thumbnail`,
				onClick: this.handlePreviewClick
			}, "image-card" === t ? i(ie, {
				src: this.mergedThumbnailUrl || void 0,
				previewSrc: r.url || void 0,
				alt: r.name,
				ref: "imageRef"
			}) : i("img", {
				src: this.mergedThumbnailUrl || void 0,
				alt: r.name
			})) : i("span", {
				class: `${e}-upload-file-info__thumbnail`
			}, o ? o(r) : _e(r) ? i(C, {
				clsPrefix: e
			}, {
				default: Pe
			}) : i(C, {
				clsPrefix: e
			}, {
				default: je
			})) : i("span", {
				class: `${e}-upload-file-info__thumbnail`
			}, o ? o(r) : i(C, {
				clsPrefix: e
			}, {
				default: () => i(be, null)
			}));
			const s = i(Oe, {
					show: this.showProgress,
					percentage: r.percentage || 0,
					status: this.progressStatus
				}),
				d = "text" === t || "image" === t;
			return i("div", {
				class: [`${e}-upload-file`, `${e}-upload-file--${this.progressStatus}-status`, r.url && "error" !== r.status && "image-card" !== t && `${e}-upload-file--with-url`, `${e}-upload-file--${t}-type`]
			}, i("div", {
				class: `${e}-upload-file-info`
			}, a, i("div", {
				class: `${e}-upload-file-info__name`
			}, d && (r.url && "error" !== r.status ? i("a", {
				rel: "noopener noreferer",
				target: "_blank",
				href: r.url || void 0,
				onClick: this.handlePreviewClick
			}, r.name) : i("span", {
				onClick: this.handlePreviewClick
			}, r.name)), l && s), i("div", {
				class: [`${e}-upload-file-info__action`, `${e}-upload-file-info__action--${t}-type`]
			}, this.showPreviewButton ? i(k, {
				key: "preview",
				quaternary: !0,
				type: this.buttonType,
				onClick: this.handlePreviewClick,
				theme: n.peers.Button,
				themeOverrides: n.peerOverrides.Button,
				builtinThemeOverrides: Ie
			}, {
				icon: () => i(C, {
					clsPrefix: e
				}, {
					default: () => i(se, null)
				})
			}) : null, (this.showRemoveButton || this.showCancelButton) && !this.disabled && i(k, {
				key: "cancelOrTrash",
				theme: n.peers.Button,
				themeOverrides: n.peerOverrides.Button,
				quaternary: !0,
				builtinThemeOverrides: Ie,
				type: this.buttonType,
				onClick: this.handleRemoveOrCancelClick
			}, {
				icon: () => i(B, null, {
					default: () => this.showRemoveButton ? i(C, {
						clsPrefix: e,
						key: "trash"
					}, {
						default: () => i(xe, null)
					}) : i(C, {
						clsPrefix: e,
						key: "cancel"
					}, {
						default: () => i(ye, null)
					})
				})
			}), this.showRetryButton && !this.disabled && i(k, {
				key: "retry",
				quaternary: !0,
				type: this.buttonType,
				onClick: this.handleRetryClick,
				theme: n.peers.Button,
				themeOverrides: n.peerOverrides.Button,
				builtinThemeOverrides: Ie
			}, {
				icon: () => i(C, {
					clsPrefix: e
				}, {
					default: () => i(we, null)
				})
			}), this.showDownloadButton ? i(k, {
				key: "download",
				quaternary: !0,
				type: this.buttonType,
				onClick: this.handleDownloadClick,
				theme: n.peers.Button,
				themeOverrides: n.peerOverrides.Button,
				builtinThemeOverrides: Ie
			}, {
				icon: () => i(C, {
					clsPrefix: e
				}, {
					default: () => i(ae, null)
				})
			}) : null)), !l && s)
		}
	}),
	He = v({
		name: "UploadTrigger",
		props: {
			abstract: Boolean
		},
		slots: Object,
		setup(e, {
			slots: n
		}) {
			const t = b(Ce, null);
			t || y("upload-trigger", "`n-upload-trigger` must be placed inside `n-upload`.");
			const {
				mergedClsPrefixRef: r,
				mergedDisabledRef: o,
				maxReachedRef: a,
				listTypeRef: l,
				dragOverRef: s,
				openOpenFileDialog: d,
				draggerInsideRef: u,
				handleFileAddition: c,
				mergedDirectoryDndRef: p,
				triggerClassRef: f,
				triggerStyleRef: h
			} = t, g = P((() => "image-card" === l.value));

			function m() {
				o.value || a.value || d()
			}

			function v(e) {
				e.preventDefault(), s.value = !0
			}

			function w(e) {
				e.preventDefault(), s.value = !0
			}

			function x(e) {
				e.preventDefault(), s.value = !1
			}

			function k(e) {
				var n;
				if (e.preventDefault(), !u.value || o.value || a.value) return void(s.value = !1);
				const t = null === (n = e.dataTransfer) || void 0 === n ? void 0 : n.items;
				(null == t ? void 0 : t.length) ? function(n, t) {
					return Le(this, void 0, void 0, (function*() {
						const r = [];
						return yield function n(o) {
							return Le(this, void 0, void 0, (function*() {
								for (const i of o)
									if (i)
										if (t && i.isDirectory) {
											const t = i.createReader();
											let r, o = [];
											try {
												do {
													r = yield new Promise(((e, n) => {
														t.readEntries(e, n)
													})), o = o.concat(r)
												} while (r.length > 0)
											} catch (e) {
												R("upload", "error happens when handling directory upload", e)
											}
											yield n(o)
										} else if (Se(i)) try {
									const e = yield new Promise(((e, n) => {
										i.file(e, n)
									}));
									r.push({
										file: e,
										entry: i,
										source: "dnd"
									})
								} catch (e) {
									R("upload", "error happens when handling file upload", e)
								}
							}))
						}(n), r
					}))
				}(Array.from(t)
					.map((e => e.webkitGetAsEntry())), p.value)
				.then((e => {
						c(e)
					}))
					.finally((() => {
						s.value = !1
					})): s.value = !1
			}
			return () => {
				var t;
				const {
					value: l
				} = r;
				return e.abstract ? null === (t = n.default) || void 0 === t ? void 0 : t.call(n, {
					handleClick: m,
					handleDrop: k,
					handleDragOver: v,
					handleDragEnter: w,
					handleDragLeave: x
				}) : i("div", {
					class: [`${l}-upload-trigger`, (o.value || a.value) && `${l}-upload-trigger--disabled`, g.value && `${l}-upload-trigger--image-card`, f.value],
					style: h.value,
					onClick: m,
					onDrop: k,
					onDragover: v,
					onDragenter: w,
					onDragleave: x
				}, g.value ? i(Te, null, {
					default: () => D(n.default, (() => [i(C, {
						clsPrefix: l
					}, {
						default: () => i(ce, null)
					})]))
				}) : n)
			}
		}
	}),
	qe = v({
		name: "UploadFileList",
		setup(e, {
			slots: n
		}) {
			const t = b(Ce, null);
			t || y("upload-file-list", "`n-upload-file-list` must be placed inside `n-upload`.");
			const {
				abstractRef: r,
				mergedClsPrefixRef: o,
				listTypeRef: a,
				mergedFileListRef: l,
				fileListClassRef: s,
				fileListStyleRef: d,
				cssVarsRef: u,
				themeClassRef: c,
				maxReachedRef: p,
				showTriggerRef: f,
				imageGroupPropsRef: h
			} = t, g = P((() => "image-card" === a.value)), m = () => l.value.map(((e, n) => i(Ae, {
				clsPrefix: o.value,
				key: e.id,
				file: e,
				index: n,
				listType: a.value
			})));
			return () => {
				const {
					value: e
				} = o, {
					value: t
				} = r;
				return i("div", {
					class: [`${e}-upload-file-list`, g.value && `${e}-upload-file-list--grid`, t ? null == c ? void 0 : c.value : void 0, s.value],
					style: [t && u ? u.value : "", d.value]
				}, g.value ? i(le, Object.assign({}, h.value), {
					default: m
				}) : i(w, {
					group: !0
				}, {
					default: m
				}), f.value && !p.value && g.value && i(He, null, n))
			}
		}
	});
var Me = function(e, n, t, r) {
	return new(t || (t = Promise))((function(o, i) {
		function a(e) {
			try {
				s(r.next(e))
			} catch (n) {
				i(n)
			}
		}

		function l(e) {
			try {
				s(r.throw(e))
			} catch (n) {
				i(n)
			}
		}

		function s(e) {
			var n;
			e.done ? o(e.value) : (n = e.value, n instanceof t ? n : new t((function(e) {
					e(n)
				})))
				.then(a, l)
		}
		s((r = r.apply(e, n || []))
			.next())
	}))
};

function Ve(e, n, t) {
	const r = function(e, n, t) {
		const {
			doChange: r,
			xhrMap: o
		} = e;
		let i = 0;

		function a(t) {
			var a;
			let l = Object.assign({}, n, {
				status: "error",
				percentage: i
			});
			o.delete(n.id), l = Ee((null === (a = e.onError) || void 0 === a ? void 0 : a.call(e, {
				file: l,
				event: t
			})) || l), r(l, t)
		}
		return {
			handleXHRLoad: function(l) {
				var s;
				if (e.isErrorState) {
					if (e.isErrorState(t)) return void a(l)
				} else if (t.status < 200 || t.status >= 300) return void a(l);
				let d = Object.assign({}, n, {
					status: "finished",
					percentage: i
				});
				o.delete(n.id), d = Ee((null === (s = e.onFinish) || void 0 === s ? void 0 : s.call(e, {
					file: d,
					event: l
				})) || d), r(d, l)
			},
			handleXHRError: a,
			handleXHRAbort(e) {
				const t = Object.assign({}, n, {
					status: "removed",
					file: null,
					percentage: i
				});
				o.delete(n.id), r(t, e)
			},
			handleXHRProgress(e) {
				const t = Object.assign({}, n, {
					status: "uploading"
				});
				if (e.lengthComputable) {
					const n = Math.ceil(e.loaded / e.total * 100);
					t.percentage = n, i = n
				}
				r(t, e)
			}
		}
	}(e, n, t);
	t.onabort = r.handleXHRAbort, t.onerror = r.handleXHRError, t.onload = r.handleXHRLoad, t.upload && (t.upload.onprogress = r.handleXHRProgress)
}

function Ge(e, n) {
	return "function" == typeof e ? e({
		file: n
	}) : e || {}
}

function Xe(e, n, t, {
	method: r,
	action: o,
	withCredentials: i,
	responseType: a,
	headers: l,
	data: s
}) {
	const d = new XMLHttpRequest;
	d.responseType = a, e.xhrMap.set(t.id, d), d.withCredentials = i;
	const u = new FormData;
	if (function(e, n, t) {
		const r = Ge(n, t);
		r && Object.keys(r)
			.forEach((n => {
				e.append(n, r[n])
			}))
	}(u, s, t), null !== t.file && u.append(n, t.file), Ve(e, t, d), void 0 !== o) {
		d.open(r.toUpperCase(), o),
			function(e, n, t) {
				const r = Ge(n, t);
				r && Object.keys(r)
					.forEach((n => {
						e.setRequestHeader(n, r[n])
					}))
			}(d, l, t), d.send(u);
		const n = Object.assign({}, t, {
			status: "uploading"
		});
		e.doChange(n)
	}
}
const Ne = v({
		name: "Upload",
		props: Object.assign(Object.assign({}, z.props), {
			name: {
				type: String,
				default: "file"
			},
			accept: String,
			action: String,
			customRequest: Function,
			directory: Boolean,
			directoryDnd: {
				type: Boolean,
				default: void 0
			},
			method: {
				type: String,
				default: "POST"
			},
			multiple: Boolean,
			showFileList: {
				type: Boolean,
				default: !0
			},
			data: [Object, Function],
			headers: [Object, Function],
			withCredentials: Boolean,
			responseType: {
				type: String,
				default: ""
			},
			disabled: {
				type: Boolean,
				default: void 0
			},
			onChange: Function,
			onRemove: Function,
			onFinish: Function,
			onError: Function,
			onRetry: Function,
			onBeforeUpload: Function,
			isErrorState: Function,
			onDownload: Function,
			defaultUpload: {
				type: Boolean,
				default: !0
			},
			fileList: Array,
			"onUpdate:fileList": [Function, Array],
			onUpdateFileList: [Function, Array],
			fileListClass: String,
			fileListStyle: [String, Object],
			defaultFileList: {
				type: Array,
				default: () => []
			},
			showCancelButton: {
				type: Boolean,
				default: !0
			},
			showRemoveButton: {
				type: Boolean,
				default: !0
			},
			showDownloadButton: Boolean,
			showRetryButton: {
				type: Boolean,
				default: !0
			},
			showPreviewButton: {
				type: Boolean,
				default: !0
			},
			listType: {
				type: String,
				default: "text"
			},
			onPreview: Function,
			shouldUseThumbnailUrl: {
				type: Function,
				default: e => !!ze && _e(e)
			},
			createThumbnailUrl: Function,
			abstract: Boolean,
			max: Number,
			showTrigger: {
				type: Boolean,
				default: !0
			},
			imageGroupProps: Object,
			inputProps: Object,
			triggerClass: String,
			triggerStyle: [String, Object],
			renderIcon: Function
		}),
		setup(e) {
			e.abstract && "image-card" === e.listType && y("upload", "when the list-type is image-card, abstract is not supported.");
			const {
				mergedClsPrefixRef: n,
				inlineThemeDisabled: t
			} = _(e), r = z("Upload", "-upload", ke, Re, e, n), o = S(e), i = T(e.defaultFileList), a = E(e, "fileList"), l = T(null), s = {
				value: !1
			}, d = T(!1), u = new Map, c = pe(a, i), p = P((() => c.value.map(Ee))), f = P((() => {
				const {
					max: n
				} = e;
				return void 0 !== n && p.value.length >= n
			}));

			function h() {
				var e;
				null === (e = l.value) || void 0 === e || e.click()
			}
			const g = P((() => e.multiple || e.directory)),
				m = (n, t, r = {
					append: !1,
					remove: !1
				}) => {
					const {
						append: o,
						remove: a
					} = r, l = Array.from(p.value), s = l.findIndex((e => e.id === n.id));
					if (o || a || ~s) {
						o ? l.push(n) : a ? l.splice(s, 1) : l.splice(s, 1, n);
						const {
							onChange: r
						} = e;
						r && r({
								file: n,
								fileList: l,
								event: t
							}),
							function(n) {
								const {
									"onUpdate:fileList": t,
									onUpdateFileList: r
								} = e;
								t && q(t, n), r && q(r, n), i.value = n
							}(l)
					}
				};

			function v(n, t) {
				if (!n || 0 === n.length) return;
				const {
					onBeforeUpload: r
				} = e;
				n = g.value ? n : [n[0]];
				const {
					max: o,
					accept: i
				} = e;
				n = n.filter((({
					file: e,
					source: n
				}) => "dnd" !== n || !(null == i ? void 0 : i.trim()) || function(e, n, t) {
					return e = e.toLowerCase(), n = n.toLocaleLowerCase(), (t = t.toLocaleLowerCase())
						.split(",")
						.map((e => e.trim()))
						.filter(Boolean)
						.some((t => {
							if (t.startsWith(".")) {
								if (e.endsWith(t)) return !0
							} else {
								if (!t.includes("/")) return !0; {
									const [e, r] = n.split("/"), [o, i] = t.split("/");
									if (("*" === o || e && o && o === e) && ("*" === i || r && i && i === r)) return !0
								}
							}
							return !1
						}))
				}(e.name, e.type, i))), o && (n = n.slice(0, o - p.value.length));
				const a = A();
				Promise.all(n.map((e => Me(this, [e], void 0, (function*({
						file: e,
						entry: n
					}) {
						var t;
						const o = {
							id: A(),
							batchId: a,
							name: e.name,
							status: "pending",
							percentage: 0,
							file: e,
							url: null,
							type: e.type,
							thumbnailUrl: null,
							fullPath: null !== (t = null == n ? void 0 : n.fullPath) && void 0 !== t ? t : `/${e.webkitRelativePath||e.name}`
						};
						return r && !1 === (yield r({
							file: o,
							fileList: p.value
						})) ? null : o
					})))))
					.then((e => Me(this, void 0, void 0, (function*() {
						let n = Promise.resolve();
						e.forEach((e => {
							n = n.then(H)
								.then((() => {
									e && m(e, t, {
										append: !0
									})
								}))
						})), yield n
					}))))
					.then((() => {
						e.defaultUpload && b()
					}))
			}

			function b(n) {
				const {
					method: t,
					action: r,
					withCredentials: o,
					headers: i,
					data: a,
					name: l
				} = e, s = void 0 !== n ? p.value.filter((e => e.id === n)) : p.value, d = void 0 !== n;
				s.forEach((n => {
					const {
						status: s
					} = n;
					("pending" === s || "error" === s && d) && (e.customRequest ? function(e) {
						const {
							inst: n,
							file: t,
							data: r,
							headers: o,
							withCredentials: i,
							action: a,
							customRequest: l
						} = e, {
							doChange: s
						} = e.inst;
						let d = 0;
						l({
							file: t,
							data: r,
							headers: o,
							withCredentials: i,
							action: a,
							onProgress(e) {
								const n = Object.assign({}, t, {
										status: "uploading"
									}),
									r = e.percent;
								n.percentage = r, d = r, s(n)
							},
							onFinish() {
								var e;
								let r = Object.assign({}, t, {
									status: "finished",
									percentage: d
								});
								r = Ee((null === (e = n.onFinish) || void 0 === e ? void 0 : e.call(n, {
									file: r
								})) || r), s(r)
							},
							onError() {
								var e;
								let r = Object.assign({}, t, {
									status: "error",
									percentage: d
								});
								r = Ee((null === (e = n.onError) || void 0 === e ? void 0 : e.call(n, {
									file: r
								})) || r), s(r)
							}
						})
					}({
						inst: {
							doChange: m,
							xhrMap: u,
							onFinish: e.onFinish,
							onError: e.onError
						},
						file: n,
						action: r,
						withCredentials: o,
						headers: i,
						data: a,
						customRequest: e.customRequest
					}) : Xe({
						doChange: m,
						xhrMap: u,
						onFinish: e.onFinish,
						onError: e.onError,
						isErrorState: e.isErrorState
					}, l, n, {
						method: t,
						action: r,
						withCredentials: o,
						responseType: e.responseType,
						headers: i,
						data: a
					}))
				}))
			}
			const w = P((() => {
					const {
						common: {
							cubicBezierEaseInOut: e
						},
						self: {
							draggerColor: n,
							draggerBorder: t,
							draggerBorderHover: o,
							itemColorHover: i,
							itemColorHoverError: a,
							itemTextColorError: l,
							itemTextColorSuccess: s,
							itemTextColor: d,
							itemIconColor: u,
							itemDisabledOpacity: c,
							lineHeight: p,
							borderRadius: f,
							fontSize: h,
							itemBorderImageCardError: g,
							itemBorderImageCard: m
						}
					} = r.value;
					return {
						"--n-bezier": e,
						"--n-border-radius": f,
						"--n-dragger-border": t,
						"--n-dragger-border-hover": o,
						"--n-dragger-color": n,
						"--n-font-size": h,
						"--n-item-color-hover": i,
						"--n-item-color-hover-error": a,
						"--n-item-disabled-opacity": c,
						"--n-item-icon-color": u,
						"--n-item-text-color": d,
						"--n-item-text-color-error": l,
						"--n-item-text-color-success": s,
						"--n-line-height": p,
						"--n-item-border-image-card-error": g,
						"--n-item-border-image-card": m
					}
				})),
				x = t ? $("upload", void 0, w, e) : void 0;
			I(Ce, {
				mergedClsPrefixRef: n,
				mergedThemeRef: r,
				showCancelButtonRef: E(e, "showCancelButton"),
				showDownloadButtonRef: E(e, "showDownloadButton"),
				showRemoveButtonRef: E(e, "showRemoveButton"),
				showRetryButtonRef: E(e, "showRetryButton"),
				onRemoveRef: E(e, "onRemove"),
				onDownloadRef: E(e, "onDownload"),
				mergedFileListRef: p,
				triggerClassRef: E(e, "triggerClass"),
				triggerStyleRef: E(e, "triggerStyle"),
				shouldUseThumbnailUrlRef: E(e, "shouldUseThumbnailUrl"),
				renderIconRef: E(e, "renderIcon"),
				xhrMap: u,
				submit: b,
				doChange: m,
				showPreviewButtonRef: E(e, "showPreviewButton"),
				onPreviewRef: E(e, "onPreview"),
				getFileThumbnailUrlResolver: function(n) {
					var t;
					if (n.thumbnailUrl) return n.thumbnailUrl;
					const {
						createThumbnailUrl: r
					} = e;
					return r ? null !== (t = r(n.file, n)) && void 0 !== t ? t : n.url || "" : n.url ? n.url : n.file ? function(e) {
						return Le(this, void 0, void 0, (function*() {
							return yield new Promise((n => {
								e.type && De(e.type) ? n(window.URL.createObjectURL(e)) : n("")
							}))
						}))
					}(n.file) : ""
				},
				listTypeRef: E(e, "listType"),
				dragOverRef: d,
				openOpenFileDialog: h,
				draggerInsideRef: s,
				handleFileAddition: v,
				mergedDisabledRef: o.mergedDisabledRef,
				maxReachedRef: f,
				fileListClassRef: E(e, "fileListClass"),
				fileListStyleRef: E(e, "fileListStyle"),
				abstractRef: E(e, "abstract"),
				acceptRef: E(e, "accept"),
				cssVarsRef: t ? void 0 : w,
				themeClassRef: null == x ? void 0 : x.themeClass,
				onRender: null == x ? void 0 : x.onRender,
				showTriggerRef: E(e, "showTrigger"),
				imageGroupPropsRef: E(e, "imageGroupProps"),
				mergedDirectoryDndRef: P((() => {
					var n;
					return null !== (n = e.directoryDnd) && void 0 !== n ? n : e.directory
				})),
				onRetryRef: E(e, "onRetry")
			});
			const R = {
				clear: () => {
					i.value = []
				},
				submit: b,
				openOpenFileDialog: h
			};
			return Object.assign({
				mergedClsPrefix: n,
				draggerInsideRef: s,
				inputElRef: l,
				mergedTheme: r,
				dragOver: d,
				mergedMultiple: g,
				cssVars: t ? void 0 : w,
				themeClass: null == x ? void 0 : x.themeClass,
				onRender: null == x ? void 0 : x.onRender,
				handleFileInputChange: function(e) {
					const n = e.target;
					v(n.files ? Array.from(n.files)
						.map((e => ({
							file: e,
							entry: null,
							source: "input"
						}))) : null, e), n.value = ""
				}
			}, R)
		},
		render() {
			var e, n;
			const {
				draggerInsideRef: t,
				mergedClsPrefix: r,
				$slots: o,
				directory: a,
				onRender: l
			} = this;
			if (o.default && !this.abstract) {
				const n = o.default()[0];
				(null === (e = null == n ? void 0 : n.type) || void 0 === e ? void 0 : e[Be]) && (t.value = !0)
			}
			const s = i("input", Object.assign({}, this.inputProps, {
				ref: "inputElRef",
				type: "file",
				class: `${r}-upload-file-input`,
				accept: this.accept,
				multiple: this.mergedMultiple,
				onChange: this.handleFileInputChange,
				webkitdirectory: a || void 0,
				directory: a || void 0
			}));
			return this.abstract ? i(U, null, null === (n = o.default) || void 0 === n ? void 0 : n.call(o), i(F, {
				to: "body"
			}, s)) : (null == l || l(), i("div", {
				class: [`${r}-upload`, t.value && `${r}-upload--dragger-inside`, this.dragOver && `${r}-upload--drag-over`, this.themeClass],
				style: this.cssVars
			}, s, this.showTrigger && "image-card" !== this.listType && i(He, null, o), this.showFileList && i(qe, null, o)))
		}
	}),
	Qe = {
		class: "login-container"
	},
	Ze = {
		class: "login-card"
	},
	Ke = {
		class: ""
	},
	Je = {
		class: "mt-2"
	},
	We = {
		class: "file-upload-container mt-4"
	},
	Ye = 204800,
	en = ve(v({
		__name: "add",
		setup(o) {
			n({
				title: "添加游戏角色"
			});
			const i = T(),
				a = T({
					phone: "",
					code: ""
				}),
				l = T(0),
				s = P((() => l.value > 0)),
				d = T(!1),
				u = T(null),
				c = T(!1),
				p = T(null),
				f = T(null),
				h = T(!1),
				g = ({
					file: e
				}) => {
					if (e.file.size > Ye) return w.error("文件大小超过限制，最大允许200KB"), p.value && p.value.clear(), void(f.value = null);
					f.value = e.file
				},
				m = ({
					file: e
				}) => {},
				v = () => {
					if (!f.value) return void w.error("请选择bin文件");
					h.value = !0;
					const e = new FormData;
					e.append("file", f.value);
					const n = t();
					fetch("/api/v1/bin_login", {
							method: "POST",
							body: e,
							headers: {
								Authorization: "Bearer " + n
							}
						})
						.then((e => e.json()))
						.then((e => {
							e.success ? (w.success("登录成功"), c.value = !1, f.value = null, p.value && p.value.clear(), ee("/gamerole/list")) : w.error(e.message || "登录失败")
						}))
						.catch((e => {
							w.error("登录失败")
						}))
						.finally((() => h.value = !1))
				},
				b = P((() => s.value ? `剩余 ${l.value} 秒` : "获取验证码")),
				y = {
					phone: [{
						required: !0,
						message: "请输入手机号码",
						trigger: ["input"]
					}, {
						pattern: /^1[3-9]\d{9}$/,
						message: "请输入正确的手机号码",
						trigger: ["input", "blur"]
					}],
					code: [{
						required: !0,
						message: "请输入验证码",
						trigger: ["input"]
					}, {
						pattern: /\d{6}/,
						message: "请输入正确的验证码",
						trigger: ["input", "blur"]
					}]
				},
				w = fe(),
				x = () => {
					"" !== a.value.phone ? (B(), $fetch("https://ucenter-app-server.hortorgames.com/ucenter-app-server/api/v1/login/verify/code", {
							method: "POST",
							body: JSON.stringify({
								gameId: "xyzwapp",
								distinctId: "DID-6a66ca26-35e2-41e6-a6b2-4f0d3d571e0f",
								gameTp: "app",
								accountNum: a.value.phone,
								sysInfo: '{"system":"Android","hortorSDKVersion":"3.0.0-cn-20240709-pic","model":"V2218A","brand":"vivo"}',
								channel: "android",
								limit: !0,
								signPrint: "E6:F7:FE:A9:EC:8E:24:D0:4F:2A:32:50:28:78:E1:C5:5E:70:81:13",
								verifyCodeTp: "login",
								androidId: ""
							})
						})
						.then((e => {
							w.info("验证码已发送")
						}))) : w.error("请输入手机号码")
				},
				R = () => {
					window.location.href = "/api/v1/qrconnect"
				},
				C = () => {
					var e;
					null == (e = i.value) || e.validate((e => {
						if (e) return;
						d.value = !0;
						r("/api/v1/phone_login", {
								method: "POST",
								body: {
									phone: a.value.phone,
									code: a.value.code
								}
							})
							.execute()
							.then((e => {
								e.success && (w.success("登录成功"), ee("/gamerole/list"))
							}))
							.finally((() => d.value = !1))
					}))
				},
				B = () => {
					s.value || (l.value = 60, u.value = ne((() => {
						l.value -= 1, l.value <= 0 && j()
					}), 1e3))
				},
				j = () => {
					u.value && (clearInterval(u.value), u.value = null)
				};
			return M(j), (n, t) => {
				const r = e,
					o = me;
				return K(), V("div", Qe, [G("div", Ze, [t[10] || (t[10] = G("div", {
					class: "login-header"
				}, [G("h2", null, "添加游戏角色"), G("p", null, "请选择以下方式进行登录")], -1)), X(Q(ge), {
					ref_key: "formRef",
					ref: i,
					rules: y,
					model: Q(a),
					class: "login-form"
				}, {
					default: N((() => [X(Q(he), {
						path: "phone"
					}, {
						default: N((() => [X(Q(de), {
							value: Q(a)
								.phone,
							"onUpdate:value": t[0] || (t[0] = e => Q(a)
								.phone = e),
							placeholder: "请输入手机号码",
							class: "form-input"
						}, {
							prefix: N((() => [X(r, {
								name: "ion:phone-portrait"
							})])),
							_: 1
						}, 8, ["value"])])),
						_: 1
					}), X(Q(he), {
						path: "code"
					}, {
						default: N((() => [X(Q(te), null, {
							default: N((() => [X(Q(de), {
								value: Q(a)
									.code,
								"onUpdate:value": t[1] || (t[1] = e => Q(a)
									.code = e),
								placeholder: "请输入验证码",
								class: "form-input"
							}, {
								prefix: N((() => [X(r, {
									name: "ion:shield-checkmark"
								})])),
								_: 1
							}, 8, ["value"]), X(Q(k), {
								ghost: "",
								type: "primary",
								disabled: Q(s),
								loading: Q(s),
								class: "code-button",
								onClick: x
							}, {
								default: N((() => [J(W(Q(b)), 1)])),
								_: 1
							}, 8, ["disabled", "loading"])])),
							_: 1
						})])),
						_: 1
					}), X(Q(k), {
						loading: Q(d),
						type: "primary",
						class: "submit-button",
						block: "",
						onClick: C
					}, {
						default: N((() => t[4] || (t[4] = [J(" 登录 ")]))),
						_: 1
					}, 8, ["loading"])])),
					_: 1
				}, 8, ["model"]), t[11] || (t[11] = G("div", {
					class: "divider"
				}, [G("span", null, "其他登录方式")], -1)), G("div", Ke, [X(Q(k), {
					class: "block wechat-button",
					secondary: "",
					round: "",
					block: "",
					onClick: R
				}, {
					icon: N((() => [X(r, {
						name: "ion:logo-wechat"
					})])),
					default: N((() => [t[5] || (t[5] = J(" 微信扫码登录 "))])),
					_: 1
				}), G("div", Je, [X(Q(k), {
					class: "packet-button",
					secondary: "",
					round: "",
					block: "",
					onClick: t[2] || (t[2] = e => c.value = !0)
				}, {
					icon: N((() => [X(r, {
						name: "ion:code-working"
					})])),
					default: N((() => [t[6] || (t[6] = J(" QQ、抖音抓包登录 "))])),
					_: 1
				})])]), X(Q(Y), {
					show: Q(c),
					"onUpdate:show": t[3] || (t[3] = e => Z(c) ? c.value = e : null),
					preset: "dialog",
					title: "抓包登录"
				}, {
					action: N((() => [X(Q(k), {
						type: "primary",
						loading: Q(h),
						disabled: !Q(f),
						onClick: v
					}, {
						default: N((() => t[9] || (t[9] = [J(" 提交 ")]))),
						_: 1
					}, 8, ["loading", "disabled"])])),
					default: N((() => [X(o, {
						type: "success"
					}, {
						default: N((() => t[7] || (t[7] = [G("p", null, "该功能支持扫码号、QQ、抖音等登录，请上传bin文件。", -1), G("p", null, [J(" 抓包教程： "), G("a", {
							class: "text-blue-500",
							target: "_blank",
							href: "https://www.cnblogs.com/ifui/articles/18939334"
						}, "点击查看")], -1), G("p", null, "支持的文件格式：.bin", -1)]))),
						_: 1
					}), G("div", We, [X(Q(Ne), {
						ref_key: "uploadRef",
						ref: p,
						"custom-request": m,
						"show-file-list": !0,
						max: 1,
						accept: ".bin",
						"default-upload": !1,
						onChange: g
					}, {
						default: N((() => [X(Q(k), {
							type: "primary"
						}, {
							icon: N((() => [X(r, {
								name: "ion:cloud-upload"
							})])),
							default: N((() => [t[8] || (t[8] = J(" 选择文件 "))])),
							_: 1
						})])),
						_: 1
					}, 512)])])),
					_: 1
				}, 8, ["show"])])])
			}
		}
	}), [
		["__scopeId", "data-v-17bd3d2b"]
	]);
export {
	en as
	default
};