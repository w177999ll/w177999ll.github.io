import{l as e}from"./lCjFnaQV.js";import{d as o,h as t,ax as r,a3 as n,az as i,ab as l,a6 as a,a4 as c,a5 as d,au as v,a7 as s,aA as m,bj as u,aE as h,ae as p,j as C,bi as x,aG as g,K as f,aa as z,bo as I,r as b,aC as w,aY as A,a8 as y,a9 as H,D as N,ao as S,ah as P,aJ as T,aX as R,aq as k}from"./DpD38Hq9.js";import{t as F,N as E}from"./-a6dyge6.js";import{d as O,_ as L}from"./Bff37aro.js";import{u as j}from"./B4ZxnYc8.js";import{u as $}from"./BOzaSZwJ.js";import{V as B}from"./BUIvzWMC.js";import{a as K}from"./D3ikBJ7G.js";const M=o({name:"ChevronDownFilled",render:()=>t("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t("path",{d:"M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z",fill:"currentColor"}))});const _=r({name:"Menu",common:n,peers:{Tooltip:F,Dropdown:O},self:function(e){const{borderRadius:o,textColor3:t,primaryColor:r,textColor2:n,textColor1:l,fontSize:a,dividerColor:c,hoverColor:d,primaryColorHover:v}=e;return Object.assign({borderRadius:o,color:"#0000",groupTextColor:t,itemColorHover:d,itemColorActive:i(r,{alpha:.1}),itemColorActiveHover:i(r,{alpha:.1}),itemColorActiveCollapsed:i(r,{alpha:.1}),itemTextColor:n,itemTextColorHover:n,itemTextColorActive:r,itemTextColorActiveHover:r,itemTextColorChildActive:r,itemTextColorChildActiveHover:r,itemTextColorHorizontal:n,itemTextColorHoverHorizontal:v,itemTextColorActiveHorizontal:r,itemTextColorActiveHoverHorizontal:r,itemTextColorChildActiveHorizontal:r,itemTextColorChildActiveHoverHorizontal:r,itemIconColor:l,itemIconColorHover:l,itemIconColorActive:r,itemIconColorActiveHover:r,itemIconColorChildActive:r,itemIconColorChildActiveHover:r,itemIconColorCollapsed:l,itemIconColorHorizontal:l,itemIconColorHoverHorizontal:v,itemIconColorActiveHorizontal:r,itemIconColorActiveHoverHorizontal:r,itemIconColorChildActiveHorizontal:r,itemIconColorChildActiveHoverHorizontal:r,itemHeight:"42px",arrowColor:n,arrowColorHover:n,arrowColorActive:r,arrowColorActiveHover:r,arrowColorChildActive:r,arrowColorChildActiveHover:r,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:a,dividerColor:c},{itemColorHoverInverted:"#0000",itemColorActiveInverted:m=r,itemColorActiveHoverInverted:m,itemColorActiveCollapsedInverted:m,itemTextColorInverted:s="#BBB",itemTextColorHoverInverted:u="#FFF",itemTextColorChildActiveInverted:u,itemTextColorChildActiveHoverInverted:u,itemTextColorActiveInverted:u,itemTextColorActiveHoverInverted:u,itemTextColorHorizontalInverted:s,itemTextColorHoverHorizontalInverted:u,itemTextColorChildActiveHorizontalInverted:u,itemTextColorChildActiveHoverHorizontalInverted:u,itemTextColorActiveHorizontalInverted:u,itemTextColorActiveHoverHorizontalInverted:u,itemIconColorInverted:s,itemIconColorHoverInverted:u,itemIconColorActiveInverted:u,itemIconColorActiveHoverInverted:u,itemIconColorChildActiveInverted:u,itemIconColorChildActiveHoverInverted:u,itemIconColorCollapsedInverted:s,itemIconColorHorizontalInverted:s,itemIconColorHoverHorizontalInverted:u,itemIconColorActiveHorizontalInverted:u,itemIconColorActiveHoverHorizontalInverted:u,itemIconColorChildActiveHorizontalInverted:u,itemIconColorChildActiveHoverHorizontalInverted:u,arrowColorInverted:s,arrowColorHoverInverted:u,arrowColorActiveInverted:u,arrowColorActiveHoverInverted:u,arrowColorChildActiveInverted:u,arrowColorChildActiveHoverInverted:u,groupTextColorInverted:"#AAA"});var s,m,u}}),D=l("n-menu"),U=l("n-submenu"),V=l("n-menu-item-group"),q=[a("&::before","background-color: var(--n-item-color-hover);"),s("arrow","\n color: var(--n-arrow-color-hover);\n "),s("icon","\n color: var(--n-item-icon-color-hover);\n "),c("menu-item-content-header","\n color: var(--n-item-text-color-hover);\n ",[a("a","\n color: var(--n-item-text-color-hover);\n "),s("extra","\n color: var(--n-item-text-color-hover);\n ")])],G=[s("icon","\n color: var(--n-item-icon-color-hover-horizontal);\n "),c("menu-item-content-header","\n color: var(--n-item-text-color-hover-horizontal);\n ",[a("a","\n color: var(--n-item-text-color-hover-horizontal);\n "),s("extra","\n color: var(--n-item-text-color-hover-horizontal);\n ")])],W=a([c("menu","\n background-color: var(--n-color);\n color: var(--n-item-text-color);\n overflow: hidden;\n transition: background-color .3s var(--n-bezier);\n box-sizing: border-box;\n font-size: var(--n-font-size);\n padding-bottom: 6px;\n ",[d("horizontal","\n max-width: 100%;\n width: 100%;\n display: flex;\n overflow: hidden;\n padding-bottom: 0;\n ",[c("submenu","margin: 0;"),c("menu-item","margin: 0;"),c("menu-item-content","\n padding: 0 20px;\n border-bottom: 2px solid #0000;\n ",[a("&::before","display: none;"),d("selected","border-bottom: 2px solid var(--n-border-color-horizontal)")]),c("menu-item-content",[d("selected",[s("icon","color: var(--n-item-icon-color-active-horizontal);"),c("menu-item-content-header","\n color: var(--n-item-text-color-active-horizontal);\n ",[a("a","color: var(--n-item-text-color-active-horizontal);"),s("extra","color: var(--n-item-text-color-active-horizontal);")])]),d("child-active","\n border-bottom: 2px solid var(--n-border-color-horizontal);\n ",[c("menu-item-content-header","\n color: var(--n-item-text-color-child-active-horizontal);\n ",[a("a","\n color: var(--n-item-text-color-child-active-horizontal);\n "),s("extra","\n color: var(--n-item-text-color-child-active-horizontal);\n ")]),s("icon","\n color: var(--n-item-icon-color-child-active-horizontal);\n ")]),v("disabled",[v("selected, child-active",[a("&:focus-within",G)]),d("selected",[J(null,[s("icon","color: var(--n-item-icon-color-active-hover-horizontal);"),c("menu-item-content-header","\n color: var(--n-item-text-color-active-hover-horizontal);\n ",[a("a","color: var(--n-item-text-color-active-hover-horizontal);"),s("extra","color: var(--n-item-text-color-active-hover-horizontal);")])])]),d("child-active",[J(null,[s("icon","color: var(--n-item-icon-color-child-active-hover-horizontal);"),c("menu-item-content-header","\n color: var(--n-item-text-color-child-active-hover-horizontal);\n ",[a("a","color: var(--n-item-text-color-child-active-hover-horizontal);"),s("extra","color: var(--n-item-text-color-child-active-hover-horizontal);")])])]),J("border-bottom: 2px solid var(--n-border-color-horizontal);",G)]),c("menu-item-content-header",[a("a","color: var(--n-item-text-color-horizontal);")])])]),v("responsive",[c("menu-item-content-header","\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),d("collapsed",[c("menu-item-content",[d("selected",[a("&::before","\n background-color: var(--n-item-color-active-collapsed) !important;\n ")]),c("menu-item-content-header","opacity: 0;"),s("arrow","opacity: 0;"),s("icon","color: var(--n-item-icon-color-collapsed);")])]),c("menu-item","\n height: var(--n-item-height);\n margin-top: 6px;\n position: relative;\n "),c("menu-item-content",'\n box-sizing: border-box;\n line-height: 1.75;\n height: 100%;\n display: grid;\n grid-template-areas: "icon content arrow";\n grid-template-columns: auto 1fr auto;\n align-items: center;\n cursor: pointer;\n position: relative;\n padding-right: 18px;\n transition:\n background-color .3s var(--n-bezier),\n padding-left .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ',[a("> *","z-index: 1;"),a("&::before",'\n z-index: auto;\n content: "";\n background-color: #0000;\n position: absolute;\n left: 8px;\n right: 8px;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),d("disabled","\n opacity: .45;\n cursor: not-allowed;\n "),d("collapsed",[s("arrow","transform: rotate(0);")]),d("selected",[a("&::before","background-color: var(--n-item-color-active);"),s("arrow","color: var(--n-arrow-color-active);"),s("icon","color: var(--n-item-icon-color-active);"),c("menu-item-content-header","\n color: var(--n-item-text-color-active);\n ",[a("a","color: var(--n-item-text-color-active);"),s("extra","color: var(--n-item-text-color-active);")])]),d("child-active",[c("menu-item-content-header","\n color: var(--n-item-text-color-child-active);\n ",[a("a","\n color: var(--n-item-text-color-child-active);\n "),s("extra","\n color: var(--n-item-text-color-child-active);\n ")]),s("arrow","\n color: var(--n-arrow-color-child-active);\n "),s("icon","\n color: var(--n-item-icon-color-child-active);\n ")]),v("disabled",[v("selected, child-active",[a("&:focus-within",q)]),d("selected",[J(null,[s("arrow","color: var(--n-arrow-color-active-hover);"),s("icon","color: var(--n-item-icon-color-active-hover);"),c("menu-item-content-header","\n color: var(--n-item-text-color-active-hover);\n ",[a("a","color: var(--n-item-text-color-active-hover);"),s("extra","color: var(--n-item-text-color-active-hover);")])])]),d("child-active",[J(null,[s("arrow","color: var(--n-arrow-color-child-active-hover);"),s("icon","color: var(--n-item-icon-color-child-active-hover);"),c("menu-item-content-header","\n color: var(--n-item-text-color-child-active-hover);\n ",[a("a","color: var(--n-item-text-color-child-active-hover);"),s("extra","color: var(--n-item-text-color-child-active-hover);")])])]),d("selected",[J(null,[a("&::before","background-color: var(--n-item-color-active-hover);")])]),J(null,q)]),s("icon","\n grid-area: icon;\n color: var(--n-item-icon-color);\n transition:\n color .3s var(--n-bezier),\n font-size .3s var(--n-bezier),\n margin-right .3s var(--n-bezier);\n box-sizing: content-box;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n "),s("arrow","\n grid-area: arrow;\n font-size: 16px;\n color: var(--n-arrow-color);\n transform: rotate(180deg);\n opacity: 1;\n transition:\n color .3s var(--n-bezier),\n transform 0.2s var(--n-bezier),\n opacity 0.2s var(--n-bezier);\n "),c("menu-item-content-header","\n grid-area: content;\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n opacity: 1;\n white-space: nowrap;\n color: var(--n-item-text-color);\n ",[a("a","\n outline: none;\n text-decoration: none;\n transition: color .3s var(--n-bezier);\n color: var(--n-item-text-color);\n ",[a("&::before",'\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),s("extra","\n font-size: .93em;\n color: var(--n-group-text-color);\n transition: color .3s var(--n-bezier);\n ")])]),c("submenu","\n cursor: pointer;\n position: relative;\n margin-top: 6px;\n ",[c("menu-item-content","\n height: var(--n-item-height);\n "),c("submenu-children","\n overflow: hidden;\n padding: 0;\n ",[m({duration:".2s"})])]),c("menu-item-group",[c("menu-item-group-title","\n margin-top: 6px;\n color: var(--n-group-text-color);\n cursor: default;\n font-size: .93em;\n height: 36px;\n display: flex;\n align-items: center;\n transition:\n padding-left .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")])]),c("menu-tooltip",[a("a","\n color: inherit;\n text-decoration: none;\n ")]),c("menu-divider","\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-divider-color);\n height: 1px;\n margin: 6px 18px;\n ")]);function J(e,o){return[d("hover",e,o),a("&:hover",e,o)]}const X=o({name:"MenuOptionContent",props:{collapsed:Boolean,disabled:Boolean,title:[String,Function],icon:Function,extra:[String,Function],showArrow:Boolean,childActive:Boolean,hover:Boolean,paddingLeft:Number,selected:Boolean,maxIconSize:{type:Number,required:!0},activeIconSize:{type:Number,required:!0},iconMarginRight:{type:Number,required:!0},clsPrefix:{type:String,required:!0},onClick:Function,tmNode:{type:Object,required:!0},isEllipsisPlaceholder:Boolean},setup(e){const{props:o}=p(D);return{menuProps:o,style:C((()=>{const{paddingLeft:o}=e;return{paddingLeft:o&&`${o}px`}})),iconStyle:C((()=>{const{maxIconSize:o,activeIconSize:t,iconMarginRight:r}=e;return{width:`${o}px`,height:`${o}px`,fontSize:`${t}px`,marginRight:`${r}px`}}))}},render(){const{clsPrefix:e,tmNode:o,menuProps:{renderIcon:r,renderLabel:n,renderExtra:i,expandIcon:l}}=this,a=r?r(o.rawNode):u(this.icon);return t("div",{onClick:e=>{var o;null===(o=this.onClick)||void 0===o||o.call(this,e)},role:"none",class:[`${e}-menu-item-content`,{[`${e}-menu-item-content--selected`]:this.selected,[`${e}-menu-item-content--collapsed`]:this.collapsed,[`${e}-menu-item-content--child-active`]:this.childActive,[`${e}-menu-item-content--disabled`]:this.disabled,[`${e}-menu-item-content--hover`]:this.hover}],style:this.style},a&&t("div",{class:`${e}-menu-item-content__icon`,style:this.iconStyle,role:"none"},[a]),t("div",{class:`${e}-menu-item-content-header`,role:"none"},this.isEllipsisPlaceholder?this.title:n?n(o.rawNode):u(this.title),this.extra||i?t("span",{class:`${e}-menu-item-content-header__extra`}," ",i?i(o.rawNode):u(this.extra)):null),this.showArrow?t(h,{ariaHidden:!0,class:`${e}-menu-item-content__arrow`,clsPrefix:e},{default:()=>l?l(o.rawNode):t(M,null)}):null)}});function Y(e){const o=p(D),{props:t,mergedCollapsedRef:r}=o,n=p(U,null),i=p(V,null),l=C((()=>"horizontal"===t.mode)),a=C((()=>l.value?t.dropdownPlacement:"tmNodes"in e?"right-start":"right")),c=C((()=>{var e;return Math.max(null!==(e=t.collapsedIconSize)&&void 0!==e?e:t.iconSize,t.iconSize)})),d=C((()=>{var o;return!l.value&&e.root&&r.value&&null!==(o=t.collapsedIconSize)&&void 0!==o?o:t.iconSize})),v=C((()=>{if(l.value)return;const{collapsedWidth:o,indent:a,rootIndent:d}=t,{root:v,isGroup:s}=e,m=void 0===d?a:d;return v?r.value?o/2-c.value/2:m:i&&"number"==typeof i.paddingLeftRef.value?a/2+i.paddingLeftRef.value:n&&"number"==typeof n.paddingLeftRef.value?(s?a/2:a)+n.paddingLeftRef.value:0})),s=C((()=>{const{collapsedWidth:o,indent:n,rootIndent:i}=t,{value:a}=c,{root:d}=e;if(l.value)return 8;if(!d)return 8;if(!r.value)return 8;return(void 0===i?n:i)+a+8-(o+a)/2}));return{dropdownPlacement:a,activeIconSize:d,maxIconSize:c,paddingLeft:v,iconMarginRight:s,NMenu:o,NSubmenu:n}}const Z={internalKey:{type:[String,Number],required:!0},root:Boolean,isGroup:Boolean,level:{type:Number,required:!0},title:[String,Function],extra:[String,Function]},Q=o({name:"MenuDivider",setup(){const e=p(D),{mergedClsPrefixRef:o,isHorizontalRef:r}=e;return()=>r.value?null:t("div",{class:`${o.value}-menu-divider`})}}),ee=Object.assign(Object.assign({},Z),{tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function}),oe=x(ee),te=o({name:"MenuOption",props:ee,setup(e){const o=Y(e),{NSubmenu:t,NMenu:r}=o,{props:n,mergedClsPrefixRef:i,mergedCollapsedRef:l}=r,a=t?t.mergedDisabledRef:{value:!1},c=C((()=>a.value||e.disabled));return{mergedClsPrefix:i,dropdownPlacement:o.dropdownPlacement,paddingLeft:o.paddingLeft,iconMarginRight:o.iconMarginRight,maxIconSize:o.maxIconSize,activeIconSize:o.activeIconSize,mergedTheme:r.mergedThemeRef,menuProps:n,dropdownEnabled:g((()=>e.root&&l.value&&"horizontal"!==n.mode&&!c.value)),selected:g((()=>r.mergedValueRef.value===e.internalKey)),mergedDisabled:c,handleClick:function(o){c.value||(r.doSelect(e.internalKey,e.tmNode.rawNode),function(o){const{onClick:t}=e;t&&t(o)}(o))}}},render(){const{mergedClsPrefix:e,mergedTheme:o,tmNode:r,menuProps:{renderLabel:n,nodeProps:i}}=this,l=null==i?void 0:i(r.rawNode);return t("div",Object.assign({},l,{role:"menuitem",class:[`${e}-menu-item`,null==l?void 0:l.class]}),t(E,{theme:o.peers.Tooltip,themeOverrides:o.peerOverrides.Tooltip,trigger:"hover",placement:this.dropdownPlacement,disabled:!this.dropdownEnabled||void 0===this.title,internalExtraClass:["menu-tooltip"]},{default:()=>n?n(r.rawNode):u(this.title),trigger:()=>t(X,{tmNode:r,clsPrefix:e,paddingLeft:this.paddingLeft,iconMarginRight:this.iconMarginRight,maxIconSize:this.maxIconSize,activeIconSize:this.activeIconSize,selected:this.selected,title:this.title,extra:this.extra,disabled:this.mergedDisabled,icon:this.icon,onClick:this.handleClick})}))}}),re=Object.assign(Object.assign({},Z),{tmNode:{type:Object,required:!0},tmNodes:{type:Array,required:!0}}),ne=x(re),ie=o({name:"MenuOptionGroup",props:re,setup(e){z(U,null);const o=Y(e);z(V,{paddingLeftRef:o.paddingLeft});const{mergedClsPrefixRef:r,props:n}=p(D);return function(){const{value:i}=r,l=o.paddingLeft.value,{nodeProps:a}=n,c=null==a?void 0:a(e.tmNode.rawNode);return t("div",{class:`${i}-menu-item-group`,role:"group"},t("div",Object.assign({},c,{class:[`${i}-menu-item-group-title`,null==c?void 0:c.class],style:[(null==c?void 0:c.style)||"",void 0!==l?`padding-left: ${l}px;`:""]}),u(e.title),e.extra?t(f,null," ",u(e.extra)):null),t("div",null,e.tmNodes.map((e=>ae(e,n)))))}}});function le(e){return"divider"===e.type||"render"===e.type}function ae(e,o){const{rawNode:r}=e,{show:n}=r;if(!1===n)return null;if(le(r))return function(e){return"divider"===e.type}(r)?t(Q,Object.assign({key:e.key},r.props)):null;const{labelField:i}=o,{key:l,level:a,isGroup:c}=e,d=Object.assign(Object.assign({},r),{title:r.title||r[i],extra:r.titleExtra||r.extra,key:l,internalKey:l,level:a,root:0===a,isGroup:c});return e.children?e.isGroup?t(ie,I(d,ne,{tmNode:e,tmNodes:e.children,key:l})):t(ve,I(d,de,{key:l,rawNodes:r[o.childrenField],tmNodes:e.children,tmNode:e})):t(te,I(d,oe,{key:l,tmNode:e}))}const ce=Object.assign(Object.assign({},Z),{rawNodes:{type:Array,default:()=>[]},tmNodes:{type:Array,default:()=>[]},tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function,domId:String,virtualChildActive:{type:Boolean,default:void 0},isEllipsisPlaceholder:Boolean}),de=x(ce),ve=o({name:"Submenu",props:ce,setup(e){const o=Y(e),{NMenu:t,NSubmenu:r}=o,{props:n,mergedCollapsedRef:i,mergedThemeRef:l}=t,a=C((()=>{const{disabled:o}=e;return!!(null==r?void 0:r.mergedDisabledRef.value)||(!!n.disabled||o)})),c=b(!1);return z(U,{paddingLeftRef:o.paddingLeft,mergedDisabledRef:a}),z(V,null),{menuProps:n,mergedTheme:l,doSelect:t.doSelect,inverted:t.invertedRef,isHorizontal:t.isHorizontalRef,mergedClsPrefix:t.mergedClsPrefixRef,maxIconSize:o.maxIconSize,activeIconSize:o.activeIconSize,iconMarginRight:o.iconMarginRight,dropdownPlacement:o.dropdownPlacement,dropdownShow:c,paddingLeft:o.paddingLeft,mergedDisabled:a,mergedValue:t.mergedValueRef,childActive:g((()=>{var o;return null!==(o=e.virtualChildActive)&&void 0!==o?o:t.activePathRef.value.includes(e.internalKey)})),collapsed:C((()=>"horizontal"!==n.mode&&(!!i.value||!t.mergedExpandedKeysRef.value.includes(e.internalKey)))),dropdownEnabled:C((()=>!a.value&&("horizontal"===n.mode||i.value))),handlePopoverShowChange:function(e){c.value=e},handleClick:function(){a.value||(i.value||t.toggleExpand(e.internalKey),function(){const{onClick:o}=e;o&&o()}())}}},render(){var e;const{mergedClsPrefix:o,menuProps:{renderIcon:r,renderLabel:n}}=this,i=()=>{const{isHorizontal:e,paddingLeft:o,collapsed:r,mergedDisabled:n,maxIconSize:i,activeIconSize:l,title:a,childActive:c,icon:d,handleClick:v,menuProps:{nodeProps:s},dropdownShow:m,iconMarginRight:u,tmNode:h,mergedClsPrefix:p,isEllipsisPlaceholder:C,extra:x}=this,g=null==s?void 0:s(h.rawNode);return t("div",Object.assign({},g,{class:[`${p}-menu-item`,null==g?void 0:g.class],role:"menuitem"}),t(X,{tmNode:h,paddingLeft:o,collapsed:r,disabled:n,iconMarginRight:u,maxIconSize:i,activeIconSize:l,title:a,extra:x,showArrow:!e,childActive:c,clsPrefix:p,icon:d,hover:m,onClick:v,isEllipsisPlaceholder:C}))},l=()=>t(w,null,{default:()=>{const{tmNodes:e,collapsed:r}=this;return r?null:t("div",{class:`${o}-submenu-children`,role:"menu"},e.map((e=>ae(e,this.menuProps))))}});return this.root?t(L,Object.assign({size:"large",trigger:"hover"},null===(e=this.menuProps)||void 0===e?void 0:e.dropdownProps,{themeOverrides:this.mergedTheme.peerOverrides.Dropdown,theme:this.mergedTheme.peers.Dropdown,builtinThemeOverrides:{fontSizeLarge:"14px",optionIconSizeLarge:"18px"},value:this.mergedValue,disabled:!this.dropdownEnabled,placement:this.dropdownPlacement,keyField:this.menuProps.keyField,labelField:this.menuProps.labelField,childrenField:this.menuProps.childrenField,onUpdateShow:this.handlePopoverShowChange,options:this.rawNodes,onSelect:this.doSelect,inverted:this.inverted,renderIcon:r,renderLabel:n}),{default:()=>t("div",{class:`${o}-submenu`,role:"menu","aria-expanded":!this.collapsed,id:this.domId},i(),this.isHorizontal?null:l())}):t("div",{class:`${o}-submenu`,role:"menu","aria-expanded":!this.collapsed,id:this.domId},i(),l())}}),se=o({name:"Menu",inheritAttrs:!1,props:Object.assign(Object.assign({},H.props),{options:{type:Array,default:()=>[]},collapsed:{type:Boolean,default:void 0},collapsedWidth:{type:Number,default:48},iconSize:{type:Number,default:20},collapsedIconSize:{type:Number,default:24},rootIndent:Number,indent:{type:Number,default:32},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandAll:Boolean,defaultExpandedKeys:Array,expandedKeys:Array,value:[String,Number],defaultValue:{type:[String,Number],default:null},mode:{type:String,default:"vertical"},watchProps:{type:Array,default:void 0},disabled:Boolean,show:{type:Boolean,default:!0},inverted:Boolean,"onUpdate:expandedKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],expandIcon:Function,renderIcon:Function,renderLabel:Function,renderExtra:Function,dropdownProps:Object,accordion:Boolean,nodeProps:Function,dropdownPlacement:{type:String,default:"bottom"},responsive:Boolean,items:Array,onOpenNamesChange:[Function,Array],onSelect:[Function,Array],onExpandedNamesChange:[Function,Array],expandedNames:Array,defaultExpandedNames:Array}),setup(o){const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=y(o),i=H("Menu","-menu",W,_,o,r),l=p(e,null),a=C((()=>{var e;const{collapsed:t}=o;if(void 0!==t)return t;if(l){const{collapseModeRef:o,collapsedRef:t}=l;if("width"===o.value)return null!==(e=t.value)&&void 0!==e&&e}return!1})),c=C((()=>{const{keyField:e,childrenField:t,disabledField:r}=o;return K(o.items||o.options,{getIgnored:e=>le(e),getChildren:e=>e[t],getDisabled:e=>e[r],getKey(o){var t;return null!==(t=o[e])&&void 0!==t?t:o.name}})})),d=C((()=>new Set(c.value.treeNodes.map((e=>e.key))))),{watchProps:v}=o,s=b(null);(null==v?void 0:v.includes("defaultValue"))?N((()=>{s.value=o.defaultValue})):s.value=o.defaultValue;const m=S(o,"value"),u=j(m,s),h=b([]),x=()=>{h.value=o.defaultExpandAll?c.value.getNonLeafKeys():o.defaultExpandedNames||o.defaultExpandedKeys||c.value.getPath(u.value,{includeSelf:!1}).keyPath};(null==v?void 0:v.includes("defaultExpandedKeys"))?N(x):x();const g=$(o,["expandedNames","expandedKeys"]),f=j(g,h),I=C((()=>c.value.treeNodes)),w=C((()=>c.value.getPath(u.value).keyPath));function A(e){const{"onUpdate:expandedKeys":t,onUpdateExpandedKeys:r,onExpandedNamesChange:n,onOpenNamesChange:i}=o;t&&k(t,e),r&&k(r,e),n&&k(n,e),i&&k(i,e),h.value=e}z(D,{props:o,mergedCollapsedRef:a,mergedThemeRef:i,mergedValueRef:u,mergedExpandedKeysRef:f,activePathRef:w,mergedClsPrefixRef:r,isHorizontalRef:C((()=>"horizontal"===o.mode)),invertedRef:S(o,"inverted"),doSelect:function(e,t){const{"onUpdate:value":r,onUpdateValue:n,onSelect:i}=o;n&&k(n,e,t);r&&k(r,e,t);i&&k(i,e,t);s.value=e},toggleExpand:function(e){const t=Array.from(f.value),r=t.findIndex((o=>o===e));if(~r)t.splice(r,1);else{if(o.accordion&&d.value.has(e)){const e=t.findIndex((e=>d.value.has(e)));e>-1&&t.splice(e,1)}t.push(e)}A(t)}});const R=C((()=>{const{inverted:e}=o,{common:{cubicBezierEaseInOut:t},self:r}=i.value,{borderRadius:n,borderColorHorizontal:l,fontSize:a,itemHeight:c,dividerColor:d}=r,v={"--n-divider-color":d,"--n-bezier":t,"--n-font-size":a,"--n-border-color-horizontal":l,"--n-border-radius":n,"--n-item-height":c};return e?(v["--n-group-text-color"]=r.groupTextColorInverted,v["--n-color"]=r.colorInverted,v["--n-item-text-color"]=r.itemTextColorInverted,v["--n-item-text-color-hover"]=r.itemTextColorHoverInverted,v["--n-item-text-color-active"]=r.itemTextColorActiveInverted,v["--n-item-text-color-child-active"]=r.itemTextColorChildActiveInverted,v["--n-item-text-color-child-active-hover"]=r.itemTextColorChildActiveInverted,v["--n-item-text-color-active-hover"]=r.itemTextColorActiveHoverInverted,v["--n-item-icon-color"]=r.itemIconColorInverted,v["--n-item-icon-color-hover"]=r.itemIconColorHoverInverted,v["--n-item-icon-color-active"]=r.itemIconColorActiveInverted,v["--n-item-icon-color-active-hover"]=r.itemIconColorActiveHoverInverted,v["--n-item-icon-color-child-active"]=r.itemIconColorChildActiveInverted,v["--n-item-icon-color-child-active-hover"]=r.itemIconColorChildActiveHoverInverted,v["--n-item-icon-color-collapsed"]=r.itemIconColorCollapsedInverted,v["--n-item-text-color-horizontal"]=r.itemTextColorHorizontalInverted,v["--n-item-text-color-hover-horizontal"]=r.itemTextColorHoverHorizontalInverted,v["--n-item-text-color-active-horizontal"]=r.itemTextColorActiveHorizontalInverted,v["--n-item-text-color-child-active-horizontal"]=r.itemTextColorChildActiveHorizontalInverted,v["--n-item-text-color-child-active-hover-horizontal"]=r.itemTextColorChildActiveHoverHorizontalInverted,v["--n-item-text-color-active-hover-horizontal"]=r.itemTextColorActiveHoverHorizontalInverted,v["--n-item-icon-color-horizontal"]=r.itemIconColorHorizontalInverted,v["--n-item-icon-color-hover-horizontal"]=r.itemIconColorHoverHorizontalInverted,v["--n-item-icon-color-active-horizontal"]=r.itemIconColorActiveHorizontalInverted,v["--n-item-icon-color-active-hover-horizontal"]=r.itemIconColorActiveHoverHorizontalInverted,v["--n-item-icon-color-child-active-horizontal"]=r.itemIconColorChildActiveHorizontalInverted,v["--n-item-icon-color-child-active-hover-horizontal"]=r.itemIconColorChildActiveHoverHorizontalInverted,v["--n-arrow-color"]=r.arrowColorInverted,v["--n-arrow-color-hover"]=r.arrowColorHoverInverted,v["--n-arrow-color-active"]=r.arrowColorActiveInverted,v["--n-arrow-color-active-hover"]=r.arrowColorActiveHoverInverted,v["--n-arrow-color-child-active"]=r.arrowColorChildActiveInverted,v["--n-arrow-color-child-active-hover"]=r.arrowColorChildActiveHoverInverted,v["--n-item-color-hover"]=r.itemColorHoverInverted,v["--n-item-color-active"]=r.itemColorActiveInverted,v["--n-item-color-active-hover"]=r.itemColorActiveHoverInverted,v["--n-item-color-active-collapsed"]=r.itemColorActiveCollapsedInverted):(v["--n-group-text-color"]=r.groupTextColor,v["--n-color"]=r.color,v["--n-item-text-color"]=r.itemTextColor,v["--n-item-text-color-hover"]=r.itemTextColorHover,v["--n-item-text-color-active"]=r.itemTextColorActive,v["--n-item-text-color-child-active"]=r.itemTextColorChildActive,v["--n-item-text-color-child-active-hover"]=r.itemTextColorChildActiveHover,v["--n-item-text-color-active-hover"]=r.itemTextColorActiveHover,v["--n-item-icon-color"]=r.itemIconColor,v["--n-item-icon-color-hover"]=r.itemIconColorHover,v["--n-item-icon-color-active"]=r.itemIconColorActive,v["--n-item-icon-color-active-hover"]=r.itemIconColorActiveHover,v["--n-item-icon-color-child-active"]=r.itemIconColorChildActive,v["--n-item-icon-color-child-active-hover"]=r.itemIconColorChildActiveHover,v["--n-item-icon-color-collapsed"]=r.itemIconColorCollapsed,v["--n-item-text-color-horizontal"]=r.itemTextColorHorizontal,v["--n-item-text-color-hover-horizontal"]=r.itemTextColorHoverHorizontal,v["--n-item-text-color-active-horizontal"]=r.itemTextColorActiveHorizontal,v["--n-item-text-color-child-active-horizontal"]=r.itemTextColorChildActiveHorizontal,v["--n-item-text-color-child-active-hover-horizontal"]=r.itemTextColorChildActiveHoverHorizontal,v["--n-item-text-color-active-hover-horizontal"]=r.itemTextColorActiveHoverHorizontal,v["--n-item-icon-color-horizontal"]=r.itemIconColorHorizontal,v["--n-item-icon-color-hover-horizontal"]=r.itemIconColorHoverHorizontal,v["--n-item-icon-color-active-horizontal"]=r.itemIconColorActiveHorizontal,v["--n-item-icon-color-active-hover-horizontal"]=r.itemIconColorActiveHoverHorizontal,v["--n-item-icon-color-child-active-horizontal"]=r.itemIconColorChildActiveHorizontal,v["--n-item-icon-color-child-active-hover-horizontal"]=r.itemIconColorChildActiveHoverHorizontal,v["--n-arrow-color"]=r.arrowColor,v["--n-arrow-color-hover"]=r.arrowColorHover,v["--n-arrow-color-active"]=r.arrowColorActive,v["--n-arrow-color-active-hover"]=r.arrowColorActiveHover,v["--n-arrow-color-child-active"]=r.arrowColorChildActive,v["--n-arrow-color-child-active-hover"]=r.arrowColorChildActiveHover,v["--n-item-color-hover"]=r.itemColorHover,v["--n-item-color-active"]=r.itemColorActive,v["--n-item-color-active-hover"]=r.itemColorActiveHover,v["--n-item-color-active-collapsed"]=r.itemColorActiveCollapsed),v})),F=n?P("menu",C((()=>o.inverted?"a":"b")),R,o):void 0,E=T(),O=b(null),L=b(null);let B=!0;const M=()=>{var e;B?B=!1:null===(e=O.value)||void 0===e||e.sync({showAllItemsBeforeCalculate:!0})};const U=b(-1);const V=C((()=>{const e=U.value;return{children:-1===e?[]:o.options.slice(e)}})),q=C((()=>{const{childrenField:e,disabledField:t,keyField:r}=o;return K([V.value],{getIgnored:e=>le(e),getChildren:o=>o[e],getDisabled:e=>e[t],getKey(e){var o;return null!==(o=e[r])&&void 0!==o?o:e.name}})})),G=C((()=>K([{}]).treeNodes[0]));return{mergedClsPrefix:r,controlledExpandedKeys:g,uncontrolledExpanededKeys:h,mergedExpandedKeys:f,uncontrolledValue:s,mergedValue:u,activePath:w,tmNodes:I,mergedTheme:i,mergedCollapsed:a,cssVars:n?void 0:R,themeClass:null==F?void 0:F.themeClass,overflowRef:O,counterRef:L,updateCounter:()=>{},onResize:M,onUpdateOverflow:function(e){e||(U.value=-1)},onUpdateCount:function(e){U.value=o.options.length-e},renderCounter:function(){var e;if(-1===U.value)return t(ve,{root:!0,level:0,key:"__ellpisisGroupPlaceholder__",internalKey:"__ellpisisGroupPlaceholder__",title:"···",tmNode:G.value,domId:E,isEllipsisPlaceholder:!0});const o=q.value.treeNodes[0],r=w.value,n=!!(null===(e=o.children)||void 0===e?void 0:e.some((e=>r.includes(e.key))));return t(ve,{level:0,root:!0,key:"__ellpisisGroup__",internalKey:"__ellpisisGroup__",title:"···",virtualChildActive:n,tmNode:o,domId:E,rawNodes:o.rawNode.children||[],tmNodes:o.children||[],isEllipsisPlaceholder:!0})},getCounter:function(){return document.getElementById(E)},onRender:null==F?void 0:F.onRender,showOption:e=>{const t=c.value.getPath(null!=e?e:u.value,{includeSelf:!1}).keyPath;if(!t.length)return;const r=Array.from(f.value),n=new Set([...r,...t]);o.accordion&&d.value.forEach((e=>{n.has(e)&&!t.includes(e)&&n.delete(e)})),A(Array.from(n))},deriveResponsiveState:M}},render(){const{mergedClsPrefix:e,mode:o,themeClass:r,onRender:n}=this;null==n||n();const i=()=>this.tmNodes.map((e=>ae(e,this.$props))),l="horizontal"===o&&this.responsive,a=()=>t("div",R(this.$attrs,{role:"horizontal"===o?"menubar":"menu",class:[`${e}-menu`,r,`${e}-menu--${o}`,l&&`${e}-menu--responsive`,this.mergedCollapsed&&`${e}-menu--collapsed`],style:this.cssVars}),l?t(B,{ref:"overflowRef",onUpdateOverflow:this.onUpdateOverflow,getCounter:this.getCounter,onUpdateCount:this.onUpdateCount,updateCounter:this.updateCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:i,counter:this.renderCounter}):i());return l?t(A,{onResize:this.onResize},{default:a}):a()}});export{se as _};
