import{H as e}from"./C8hpIBoG.js";import{_ as t,a as n}from"./BLxG2RsL.js";import{d as r,j as o,O as a,v as l,A as s,x as i,t as u,z as c,K as d,N as f,E as p,y as v,B as m,_ as y,r as g,M as h,H as b,F as x,I as w,a$ as I,o as T,J as _}from"./DpD38Hq9.js";import{_ as k}from"./MJhzGfyV.js";import{_ as E}from"./BCo6x5W8.js";import{a as j,u as S,b as A}from"./CTx_gHj7.js";import{_ as O}from"./C0XUvHtU.js";import{u as R}from"./CE2y24bF.js";import{_ as q}from"./gSuRa5u_.js";import{u as C}from"./AE7psNvX.js";const N={class:"modal-content"},L={key:0,class:"empty-state"},M={key:1,class:"fight-logs"},P={class:"log-header-extra"},D={class:"teams-container"},F={class:"team my-team"},z={class:"heroes-list"},H={class:"hero-info"},V={class:"hero-name"},W={class:"team enemy-team"},K={class:"heroes-list"},U={class:"hero-info"},$={class:"hero-name"},B=E(r({__name:"FightLogModal",props:{modelValue:{type:Boolean},logs:{}},emits:["update:modelValue"],setup(e,{emit:r}){const g=e,h=r,b=o({get:()=>g.modelValue,set:e=>h("update:modelValue",e)}),x=e=>`第 ${e.roundNumber} 回合`,w=e=>{if("string"==typeof e)switch(e){case"魏国":return"wei";case"蜀国":return"shu";case"吴国":return"wu";default:return"qun"}else switch(e){case 1:return"wei";case 2:return"shu";case 3:return"wu";default:return"qun"}};return(e,r)=>{const o=k,g=n,h=t,I=y;return l(),a(I,{show:b.value,"onUpdate:show":r[0]||(r[0]=e=>b.value=e),preset:"card",style:{"max-width":"800px",width:"90%"},bordered:!1,class:"fight-log-modal",title:"战斗日志"},{default:s((()=>[i("div",N,[0===e.logs.length?(l(),u("div",L,"暂无战斗记录")):(l(),u("div",M,[c(h,null,{default:s((()=>[(l(!0),u(d,null,f(e.logs,((e,t)=>(l(),a(g,{key:t,title:x(e),name:t},{"header-extra":s((()=>[i("div",P,[c(o,{type:e.isWin?"success":"error",size:"small"},{default:s((()=>[m(v(e.isWin?"胜利":"失败"),1)])),_:2},1032,["type"])])])),default:s((()=>[i("div",D,[i("div",F,[r[1]||(r[1]=i("div",{class:"team-title"},"我方",-1)),i("div",z,[(l(!0),u(d,null,f(e.myTeam,(e=>(l(),u("div",{key:e.id,class:"hero-status"},[i("div",{class:p(["hero-avatar",[`country-${w(e.type)}`,{"is-dead":!e.isAlive}]])},[i("span",null,v(e.name[0]),1)],2),i("div",H,[i("div",V,v(e.name),1),c(o,{size:"tiny",type:e.isAlive?"success":"error"},{default:s((()=>[m(v(e.isAlive?"存活":"阵亡"),1)])),_:2},1032,["type"])])])))),128))])]),i("div",W,[r[2]||(r[2]=i("div",{class:"team-title"},"敌方",-1)),i("div",K,[(l(!0),u(d,null,f(e.enemyTeam,(e=>(l(),u("div",{key:e.id,class:"hero-status"},[i("div",{class:p(["hero-avatar",[`country-${w(e.type)}`,{"is-dead":!e.isAlive}]])},[i("span",null,v(e.name[0]),1)],2),i("div",U,[i("div",$,v(e.name),1),c(o,{size:"tiny",type:e.isAlive?"success":"error"},{default:s((()=>[m(v(e.isAlive?"存活":"阵亡"),1)])),_:2},1032,["type"])])])))),128))])])])])),_:2},1032,["title","name"])))),128))])),_:1})]))])])),_:1},8,["show"])}}}),[["__scopeId","data-v-c0fb4572"]]),Y={class:"min-w-[300px]"},J={class:"bg-white p-6 space-y-4"},X={class:"flex justify-center items-center gap-4 mb-6"},G={class:"text-center"},Q={class:"text-emerald-600 font-bold text-3xl"},Z={class:"text-center"},ee={class:"text-rose-600 font-bold text-3xl"},te={class:"space-y-2"},ne={class:"flex justify-between text-sm text-gray-600"},re={class:"grid grid-cols-3 gap-3 mt-4"},oe={class:"text-center p-2 bg-gray-50 rounded-lg"},ae={class:"text-amber-600 font-bold text-xl"},le={class:"text-center p-2 bg-gray-50 rounded-lg"},se={class:"text-blue-600 font-bold text-xl"},ie={class:"text-center p-2 bg-gray-50 rounded-lg"},ue={class:"text-red-600 font-bold text-xl"},ce={class:"flex justify-center mt-4"},de=r({__name:"FightPvPResult",props:{targetId:{type:Number,required:!0},timestamp:{type:Number,required:!0},maxFight:{type:Number,default:10}},setup(t){const n=t,r=j(),a=S(),d=g(0),f=h({win:0,lose:0}),p=g(!1),y=g([]),I=t=>{const n=[];for(let r=0;r<t.length;r++)n.push({heroId:t[r].heroId,name:e[t[r].heroId].name,type:e[t[r].heroId].type,isAlive:t[r].hp>0});return n},T=o((()=>{if(0===y.value.length)return 0;const e=y.value.reduce(((e,t)=>e+t.roundNumber),0);return Math.round(e/y.value.length)})),_=o((()=>{if(0===y.value.length)return 0;let e=0,t=0;return y.value.forEach((n=>{n.myTeam.forEach((n=>{e++,n.isAlive&&t++}))})),e>0?Math.round(t/e*100):0})),k=o((()=>{if(0===y.value.length)return 0;let e=0,t=0;return y.value.forEach((n=>{n.enemyTeam.forEach((n=>{e++,n.isAlive&&t++}))})),e>0?Math.round(t/e*100):0}));return b((()=>n.timestamp),(()=>{(async()=>{d.value=0,f.win=0,f.lose=0,y.value=[],a.clearResp("fight_startpvpresp");for(let e=0;e<n.maxFight;e++)await r.sendWithPromise({cmd:"fight_startpvp",respKey:"fight_startpvpresp",params:{targetId:n.targetId}}).then((e=>{if(e){d.value++,e.battleData.result.isWin?f.win++:f.lose++;const t={roundNumber:e.battleData.result.round,time:Date.now(),isWin:e.battleData.result.isWin,myTeam:I(e.battleData.result.sponsor.teamInfo),enemyTeam:I(e.battleData.result.accept.teamInfo)};y.value.push(t)}}))})()}),{immediate:!0}),(e,n)=>(l(),u("div",null,[i("div",Y,[i("div",J,[n[10]||(n[10]=i("h3",{class:"text-center text-2xl font-bold text-gray-800 mb-4"}," 战绩统计 ",-1)),i("div",X,[i("div",G,[i("div",Q,v(f.win),1),n[2]||(n[2]=i("div",{class:"text-sm text-gray-500"},"胜利",-1))]),n[4]||(n[4]=i("div",{class:"text-2xl text-gray-300"},"|",-1)),i("div",Z,[i("div",ee,v(f.lose),1),n[3]||(n[3]=i("div",{class:"text-sm text-gray-500"},"失利",-1))])]),i("div",te,[i("div",ne,[n[5]||(n[5]=i("span",null,"当前胜率",-1)),i("span",null,v(Math.round(f.win/t.maxFight*100))+"% ",1)]),c(x(O),{processing:"",percentage:f.win/t.maxFight*100,"indicator-placement":"inside","theme-overrides":{},class:"h-3 rounded-full"},null,8,["percentage"])]),i("div",re,[i("div",oe,[i("div",ae,v(T.value),1),n[6]||(n[6]=i("div",{class:"text-xs text-gray-500"},"平均回合数",-1))]),i("div",le,[i("div",se,v(_.value)+"% ",1),n[7]||(n[7]=i("div",{class:"text-xs text-gray-500"},"我方存活率",-1))]),i("div",ie,[i("div",ue,v(k.value)+"% ",1),n[8]||(n[8]=i("div",{class:"text-xs text-gray-500"},"敌方存活率",-1))])]),i("div",ce,[c(x(w),{type:"primary",size:"small",onClick:n[0]||(n[0]=e=>p.value=!0),disabled:0===y.value.length,class:"text-sm"},{default:s((()=>n[9]||(n[9]=[m(" 查看战斗日志 ")]))),_:1},8,["disabled"])])])]),c(B,{modelValue:p.value,"onUpdate:modelValue":n[1]||(n[1]=e=>p.value=e),logs:y.value},null,8,["modelValue","logs"])]))}});var fe,pe={exports:{}};const ve=I(fe?pe.exports:(fe=1,pe.exports=function(){var e={686:function(e,t,n){n.d(t,{default:function(){return I}});var r=n(279),o=n.n(r),a=n(370),l=n.n(a),s=n(817),i=n.n(s);function u(e){try{return document.execCommand(e)}catch(t){return!1}}var c=function(e){var t=i()(e);return u("cut"),t},d=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var r=i()(n);return u("copy"),n.remove(),r},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=d(e.value,t):(n=i()(e),u("copy")),n};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,r=e.container,o=e.target,a=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==p(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return a?f(a,{container:r}):o?"cut"===n?c(o):f(o,{container:r}):void 0};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=b(e);if(t){var l=b(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return r=this,!(o=n)||"object"!==m(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o=h(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this)).resolveOptions(t),n.listenClick(e),n}return t=a,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===m(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=l()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",r=v({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(r?"success":"error",{action:n,text:r,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return x("action",e)}},{key:"defaultTarget",value:function(e){var t=x("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return x("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],r=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return f(e,t)}},{key:"cut",value:function(e){return c(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}],n&&y(t.prototype,n),r&&y(t,r),a}(o()),I=w},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var r=n(828);function o(e,t,n,r,o){var l=a.apply(this,arguments);return e.addEventListener(n,l,o),{destroy:function(){e.removeEventListener(n,l,o)}}}function a(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}e.exports=function(e,t,n,r,a){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,n,r,a)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var r=n(879),o=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var a=0,l=r.length;a<l;a++)r[a].fn!==t&&r[a].fn._!==t&&o.push(r[a]);return o.length?n[e]=o:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default)),me=e=>({toClipboard:(e,t)=>new Promise(((n,r)=>{const o=document.createElement("button"),a=new ve(o,{text:()=>e,action:()=>"copy",container:void 0!==t?t:document.body});a.on("success",(e=>{a.destroy(),n(e)})),a.on("error",(e=>{a.destroy(),r(e)})),document.body.appendChild(o),o.click(),document.body.removeChild(o)}))}),ye={class:"optimized-user-card"},ge={class:"avatar-section"},he=["src"],be={class:"card-content"},xe={class:"top-section"},we={class:"profile-section"},Ie={class:"identity-info"},Te={class:"username"},_e={class:"diamond"},ke={class:"diamond-second ml-2"},Ee={class:"meta-group flex justify-center items-center"},je={class:"club-info"},Se={class:"name"},Ae={key:0,class:"ml-2"},Oe={class:"combat-power"},Re={class:"power-value"},qe={class:"stage-info"},Ce={class:"stage-value"},Ne={class:"general-section mt-4"},Le={class:"general-switcher"},Me=["onClick"],Pe={key:0,class:"general-details"},De={class:"equipment-list"},Fe={class:"equip-type"},ze={class:"red-diamonds"},He={class:"footer-section"},Ve={class:"server-tag"},We={class:"total-reds"},Ke={class:"red-text"},Ue=E(r({__name:"TargetUserCardDefault",props:{userId:{type:Number,required:!0},timestamp:{type:Number,required:!0}},emits:["loaded"],setup(t,{emit:n}){const r=t,a=n,h=R(),I=S(),k=j(),{toClipboard:E}=me(),O=C(),N=g(!1),L=g(),M=g(0),P=o((()=>{var e;return null==(e=K.value)?void 0:e[M.value]})),D=o((()=>{var e;return null==(e=P.value)?void 0:e.equipments.reduce(((e,t)=>e+t.reds),0)})),F=o((()=>{var e;return null==(e=K.value)?void 0:e.flatMap((e=>e.equipments)).reduce(((e,t)=>e+t.reds),0)})),z=o((()=>{var e;return null==(e=K.value)?void 0:e.flatMap((e=>e.equipments)).reduce(((e,t)=>e+t.yellows),0)})),H=o((()=>{var e,t;return A(null==(t=null==(e=null==I?void 0:I.getTargetRole)?void 0:e.roleInfo)?void 0:t.power)})),V=async()=>{N.value=!0,L.value=Date.now()};function W(e){return{0:"武器",1:"铠甲",2:"头盔",3:"战马"}[e]||"未知装备"}const K=o((()=>{var t,n;return(null==(t=I.getTargetRole)?void 0:t.roleInfo)?null==Object?void 0:Object.values((null==(n=I.getTargetRole.roleInfo)?void 0:n.battleTeam)||[]).map((t=>{var n;const r=I.getTargetRole.roleInfo.heroes[t.heroId],o=Object.values(null==r?void 0:r.equipment).map(((e,t)=>({type:W(t),reds:Object.values(e.quenches).filter((e=>6==e.colorId)).length,yellows:Object.values(e.quenches).filter((e=>5==e.colorId)).length,purples:Object.values(e.quenches).filter((e=>4==e.colorId)).length,blues:Object.values(e.quenches).filter((e=>3==e.colorId)).length,greens:Object.values(e.quenches).filter((e=>2==e.colorId)).length,whites:Object.values(e.quenches).filter((e=>1==e.colorId)).length})));return{heroName:(null==(n=e[t.heroId])?void 0:n.name)||t.heroId,heroId:t.heroId,equipments:o}})):[]})),U=o((()=>{var e,t,n,r;return(null==(t=null==(e=null==I?void 0:I.getTargetRole)?void 0:e.legionInfo)?void 0:t.name)?null==(r=null==(n=null==I?void 0:I.getTargetRole)?void 0:n.legionInfo)?void 0:r.name:"无俱乐部"}));return b((()=>r.timestamp),(()=>{k.send({cmd:"rank_getroleinfo",params:{roleId:Number(r.userId),bottleType:0,includeBottleTeam:!1},respKey:"rank_getroleinforesp"})}),{immediate:!0}),b((()=>I.getTargetRole),(e=>{(null==e?void 0:e.roleInfo)&&a("loaded",!0,{name:e.roleInfo.name,id:e.roleInfo.roleId})}),{deep:!0}),T((()=>{k.send({cmd:"legion_getinfo",respKey:"legion_getinforesp"})})),(e,n)=>{var r;const o=w,a=q,g=y;return l(),u("div",null,[i("div",ye,[c(a,{show:null==(r=x(I))?void 0:r.getTargetRoleLoading,"stroke-width":14,class:"fullscreen-spin",description:"数据加载中"},{default:s((()=>{var e,t,r,a,y,g,b,w,T,k,j,S,A,R;return[i("div",ge,[i("img",{src:null==(r=null==(t=null==(e=x(I))?void 0:e.getTargetRole)?void 0:t.roleInfo)?void 0:r.headImg,class:"user-avatar"},null,8,he),i("div",{onClick:n[0]||(n[0]=()=>{var e;return async function(e){await E(`${e}`),O.success("ID复制成功")}(null==(e=x(I).getTargetRole)?void 0:e.roleInfo.roleId)}),class:"user-id"}," ID:"+v(null==(g=null==(y=null==(a=x(I))?void 0:a.getTargetRole)?void 0:y.roleInfo)?void 0:g.roleId),1)]),n[7]||(n[7]=i("div",{class:"card-backdrop"},null,-1)),i("div",be,[i("div",xe,[i("div",we,[i("div",Ie,[i("h3",Te,[m(v(null==(T=null==(w=null==(b=x(I))?void 0:b.getTargetRole)?void 0:w.roleInfo)?void 0:T.name)+" ",1),i("div",null,[i("span",_e,"◆ "+v(F.value),1),i("span",ke,"◆ "+v(z.value),1)])]),i("div",Ee,[i("span",je,[n[2]||(n[2]=i("span",{class:"icon"},"🏆",-1)),i("span",Se,v(U.value),1)]),x(h)?_("",!0):(l(),u("div",Ae,[i("div",Oe,[n[4]||(n[4]=i("span",{class:"power-icon"},"⚔️",-1)),i("span",Re,v(H.value),1),i("div",qe,[n[3]||(n[3]=i("span",{class:"stage-icon"},"👾",-1)),i("span",Ce,v((null==(j=null==(k=x(I).getTargetRole)?void 0:k.roleInfo)?void 0:j.levelId)||1)+"关",1)])])]))])])]),c(o,{class:"challenge-btn",size:"small",type:"primary",secondary:"",onClick:V},{default:s((()=>n[5]||(n[5]=[m(" 切磋 ")]))),_:1})]),i("div",Ne,[i("div",Le,[(l(!0),u(d,null,f(K.value,((e,t)=>(l(),u("div",{key:e.heroName,class:p(["general-tab",{active:M.value===t}]),onClick:e=>M.value=t},v(e.heroName),11,Me)))),128))]),P.value?(l(),u("div",Pe,[i("div",De,[(l(!0),u(d,null,f(P.value.equipments,(e=>(l(),u("div",{key:e.type,class:"equipment-item"},[i("span",Fe,v(e.type),1),i("div",ze,[(l(!0),u(d,null,f(e.reds,(e=>(l(),u("span",{key:e,class:"diamond color-red"}," ◆ ")))),128)),(l(!0),u(d,null,f(e.yellows,(e=>(l(),u("span",{key:e,class:"diamond color-yellow"}," ◆ ")))),128)),(l(!0),u(d,null,f(e.purples,(e=>(l(),u("span",{key:e,class:"diamond color-purple"}," ◆ ")))),128)),(l(!0),u(d,null,f(e.blues,(e=>(l(),u("span",{key:e,class:"diamond color-blue"}," ◆ ")))),128)),(l(!0),u(d,null,f(e.greens,(e=>(l(),u("span",{key:e,class:"diamond color-green"}," ◆ ")))),128)),(l(!0),u(d,null,f(e.whites,(e=>(l(),u("span",{key:e,class:"diamond color-white"}," ◆ ")))),128))])])))),128))])])):_("",!0)]),i("div",He,[i("div",Ve,v(null==(R=null==(A=null==(S=x(I))?void 0:S.getTargetRole)?void 0:A.roleInfo)?void 0:R.serverName),1),i("div",We,[n[6]||(n[6]=m(" 当前红粹：")),i("span",Ke,v(D.value),1)])])])]})),_:1},8,["show"])]),c(g,{show:N.value,"onUpdate:show":n[1]||(n[1]=e=>N.value=e),preset:"card",title:"战斗结果",bordered:!1,style:{width:"350px"}},{default:s((()=>[c(de,{"target-id":t.userId,timestamp:L.value},null,8,["target-id","timestamp"])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-c2da03c0"]]);export{Ue as T,de as _,me as u};
