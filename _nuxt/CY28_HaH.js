import{X as e}from"./DGCDN0M1.js";import{u as s}from"./DnjT7zNg.js";import{u as a,a as l}from"./CTx_gHj7.js";import{d as t,r as i,o as r,a0 as m,j as o,t as u,z as d,x as n,A as c,a1 as p,v,y as f,I as x,B as g}from"./DpD38Hq9.js";import{u as w}from"./AE7psNvX.js";import{a as y,_ as b}from"./BInuzmN5.js";import{_ as j}from"./CwfcNWO8.js";import{_ as h}from"./BlfF7kRe.js";import{_}from"./BCo6x5W8.js";import"./BUzHT0Ek.js";import"./BjAOOWF7.js";import"./DiJwGkuW.js";import"./Cwo8lmsB.js";import"./-a6dyge6.js";import"./DjN1tzHg.js";import"./CYSlBwxp.js";import"./CLmcmnGu.js";import"./l2rsThpR.js";import"./B4ZxnYc8.js";import"./BOzaSZwJ.js";import"./Bz3-pLFH.js";import"./CfHz9NLm.js";import"./DrZaQ8bd.js";import"./DLyGchdh.js";const z={class:"fishing-page p-4"},k={class:"p-4"},q={class:"item-card"},R={class:"flex flex-col gap-4"},W={class:"flex gap-4"},A={class:"item-icon shrink-0"},C={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3"},K={class:"quantity-badge"},P={class:"flex items-center gap-3 w-full sm:w-auto ml-auto"},U={class:"item-card"},L={class:"flex flex-col gap-4"},N={class:"flex gap-4"},$={class:"item-icon shrink-0"},E={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3"},F={class:"quantity-badge"},I={class:"flex items-center gap-3 w-full sm:w-auto ml-auto"},X={class:"item-card"},B={class:"flex flex-col gap-4"},S={class:"flex gap-4"},T={class:"item-icon shrink-0"},V={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3"},Y={class:"quantity-badge"},D={class:"flex items-center gap-3 w-full sm:w-auto ml-auto"},G=_(t({__name:"index",setup(t){s({title:"活动助手"});const _=a(),G=l(),H=w(),J=i(!1);r((()=>{const e=()=>{J.value=window.innerWidth<768};e(),window.addEventListener("resize",e),m((()=>{window.removeEventListener("resize",e)})),G.sendWithPromise({cmd:"activity_get",respKey:"activity_getresp"})}));const M=o((()=>{var e;return(null==(e=_.getRoleinfo)?void 0:e.role)?_.getRoleinfo.role.items[1001].quantity:0})),O=o((()=>{var e;return(null==(e=_.getRoleinfo)?void 0:e.role)?_.getRoleinfo.role.items[1011].quantity:0})),Q=o((()=>{var e;return(null==(e=_.getRoleinfo)?void 0:e.role)?_.getRoleinfo.role.items[1012].quantity:0})),Z=i(10),ee=i(10),se=i(10),ae=()=>{G.sendWithPromise({cmd:"hero_recruit",respKey:"hero_recruitresp",params:{byClub:!1,recruitNumber:Z.value,recruitType:1}}).then((e=>{e&&(H.destroyAll(),H.success(`使用${Z.value}个招募令成功`))}))},le=()=>{G.sendWithPromise({cmd:"artifact_lottery",respKey:"syncrewardresp",params:{lotteryNumber:ee.value,newFree:!0,type:1}}).then((e=>{e&&(H.destroyAll(),H.success(`使用${ee.value}个免费鱼竿成功`))}))},te=()=>{G.sendWithPromise({cmd:"artifact_lottery",respKey:"syncrewardresp",params:{lotteryNumber:se.value,newFree:!0,type:2}}).then((e=>{e&&(H.destroyAll(),H.success(`使用${se.value}个金鱼竿成功`))}))};return(s,a)=>{const l=j,t=h,i=x,r=b,m=y,o=p;return v(),u("div",z,[d(e),n("div",k,[d(o,{title:"活动助手",class:"main-card w-full max-w-4xl mx-auto"},{default:c((()=>[d(m,{cols:1,"x-gap":12,"y-gap":16,"item-responsive":!0},{default:c((()=>[d(r,{span:"24"},{default:c((()=>[n("div",q,[n("div",R,[n("div",W,[n("div",A,[d(l,{width:J.value?56:64,src:"/icons/173349369083832.png","preview-disabled":"",class:"rounded-lg"},null,8,["width"])]),a[3]||(a[3]=n("div",{class:"flex-grow min-w-0"},[n("h3",{class:"text-lg font-medium mb-1"},"招募令"),n("p",{class:"text-sm text-gray-400"},"招募新的咸将")],-1))]),n("div",C,[n("span",K,"当前数量："+f(M.value),1),n("div",P,[d(t,{value:Z.value,"onUpdate:value":a[0]||(a[0]=e=>Z.value=e),min:0,max:M.value,class:"flex-1 sm:w-24",size:J.value?"large":"medium"},null,8,["value","max","size"]),d(i,{type:"primary",class:"action-button",disabled:Z.value<=0,onClick:ae,size:J.value?"large":"medium"},{default:c((()=>a[4]||(a[4]=[g(" 开启 ")]))),_:1},8,["disabled","size"])])])])])])),_:1}),d(r,{span:"24"},{default:c((()=>[n("div",U,[n("div",L,[n("div",N,[n("div",$,[d(l,{width:J.value?56:64,src:"/icons/17370282349697.png","preview-disabled":"",class:"rounded-lg"},null,8,["width"])]),a[5]||(a[5]=n("div",{class:"flex-grow min-w-0"},[n("h3",{class:"text-lg font-medium mb-1"},"普通鱼竿"),n("p",{class:"text-sm text-gray-400"},"红鱼快来")],-1))]),n("div",E,[n("span",F,"当前数量："+f(O.value),1),n("div",I,[d(t,{value:ee.value,"onUpdate:value":a[1]||(a[1]=e=>ee.value=e),min:0,max:O.value,class:"flex-1 sm:w-24",size:J.value?"large":"medium"},null,8,["value","max","size"]),d(i,{type:"primary",class:"action-button",disabled:ee.value<=0,onClick:le,size:J.value?"large":"medium"},{default:c((()=>a[6]||(a[6]=[g(" 开启 ")]))),_:1},8,["disabled","size"])])]),a[7]||(a[7]=n("p",{class:"text-sm text-gray-400"}," 如果一直钓鱼失败，可能是今日免费钓鱼没用完，点3次1次数量的开启即可 ",-1))])])])),_:1}),d(r,{span:"24"},{default:c((()=>[n("div",X,[n("div",B,[n("div",S,[n("div",T,[d(l,{width:J.value?56:64,src:"/icons/17370282344616.png","preview-disabled":"",class:"rounded-lg"},null,8,["width"])]),a[8]||(a[8]=n("div",{class:"flex-grow min-w-0"},[n("h3",{class:"text-lg font-medium mb-1"},"金鱼竿"),n("p",{class:"text-sm text-gray-400"},"什么时候可以钓一条金鱼")],-1))]),n("div",V,[n("span",Y,"当前数量："+f(Q.value),1),n("div",D,[d(t,{value:se.value,"onUpdate:value":a[2]||(a[2]=e=>se.value=e),min:0,max:Q.value,class:"flex-1 sm:w-24",size:J.value?"large":"medium"},null,8,["value","max","size"]),d(i,{type:"primary",class:"action-button",disabled:se.value<=0,onClick:te,size:J.value?"large":"medium"},{default:c((()=>a[9]||(a[9]=[g(" 开启 ")]))),_:1},8,["disabled","size"])])])])])])),_:1})])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-beb037dd"]]);export{G as default};
